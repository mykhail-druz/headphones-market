(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.SanityClient = f()}})(function(){var define,module,exports;return (function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _observable=require("../util/observable"),_queryString=_interopRequireDefault(require("../http/queryString")),validators=_interopRequireWildcard(require("../validators"));function _getRequireWildcardCache(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(_getRequireWildcardCache=function(e){return e?r:t})(e)}function _interopRequireWildcard(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==_typeof(e)&&"function"!=typeof e)return{default:e};var r=_getRequireWildcardCache(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(n,i,a):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _iterableToArrayLimit(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _extends(){return(_extends=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function AssetsClient(e){this.client=e}function optionsFromFile(e,t){return"undefined"!=typeof window&&t instanceof window.File?_extends({filename:!1===e.preserveFilename?void 0:t.name,contentType:t.type},e):e}_extends(AssetsClient.prototype,{upload:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};validators.validateAssetType(e);var n=r.extract||void 0;n&&!n.length&&(n=["none"]);var o=validators.hasDataset(this.client.clientConfig),i="image"===e?"images":"files",a=optionsFromFile(r,t),l=a.tag,s=a.label,c=a.title,u=a.description,f=a.creditLine,d=a.filename,p=a.source,y={label:s,title:c,description:u,filename:d,meta:n,creditLine:f};p&&(y.sourceId=p.id,y.sourceName=p.name,y.sourceUrl=p.url);var b=this.client._requestObservable({tag:l,method:"POST",timeout:a.timeout||0,uri:"/assets/".concat(i,"/").concat(o),headers:a.contentType?{"Content-Type":a.contentType}:{},query:y,body:t});return this.client.isPromiseAPI()?b.pipe((0,_observable.filter)(function(e){return"response"===e.type}),(0,_observable.map)(function(e){return e.body.document})).toPromise():b},delete:function(e,t){console.warn("client.assets.delete() is deprecated, please use client.delete(<document-id>)");var r=t||"";return/^(image|file)-/.test(r)?e._id&&(r=e._id):r="".concat(e,"-").concat(r),validators.hasDataset(this.client.clientConfig),this.client.delete(r)},getImageUrl:function(e,t){var r=e._ref||e;if("string"!=typeof r)throw new Error("getImageUrl() needs either an object with a _ref, or a string with an asset document ID");if(!/^image-[A-Za-z0-9_]+-\d+x\d+-[a-z]{1,5}$/.test(r))throw new Error('Unsupported asset ID "'.concat(r,'". URL generation only works for auto-generated IDs.'));var n=_slicedToArray(r.split("-"),4),o=n[1],i=n[2],a=n[3];validators.hasDataset(this.client.clientConfig);var l=this.client.clientConfig,s=l.projectId,c=l.dataset,u=t?(0,_queryString.default)(t):"";return"https://cdn.sanity.io/images/".concat(s,"/").concat(c,"/").concat(o,"-").concat(i,".").concat(a).concat(u)}});var _default=AssetsClient;exports.default=_default,module.exports=exports.default;

},{"../http/queryString":13,"../util/observable":21,"../validators":24}],2:[function(require,module,exports){
"use strict";function _extends(){return(_extends=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function AuthClient(t){this.client=t}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0,_extends(AuthClient.prototype,{getLoginProviders:function(){return this.client.request({uri:"/auth/providers"})},logout:function(){return this.client.request({uri:"/auth/logout",method:"POST"})}});var _default=AuthClient;exports.default=_default,module.exports=exports.default;

},{}],3:[function(require,module,exports){
"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.validateApiVersion=exports.initConfig=exports.defaultConfig=void 0;var _generateHelpUrl=_interopRequireDefault(require("./generateHelpUrl")),validate=_interopRequireWildcard(require("./validators")),warnings=_interopRequireWildcard(require("./warnings"));function _getRequireWildcardCache(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_getRequireWildcardCache=function(e){return e?n:t})(e)}function _interopRequireWildcard(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==_typeof(e)&&"function"!=typeof e)return{default:e};var n=_getRequireWildcardCache(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(r,o,a):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _extends(){return(_extends=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var defaultCdnHost="apicdn.sanity.io",defaultConfig={apiHost:"https://api.sanity.io",apiVersion:"1",useProjectHostname:!0,isPromiseAPI:!0};exports.defaultConfig=defaultConfig;var LOCALHOSTS=["localhost","127.0.0.1","0.0.0.0"],isLocal=function(e){return-1!==LOCALHOSTS.indexOf(e)},validateApiVersion=function(e){if("1"!==e&&"X"!==e){var t=new Date(e);if(!(/^\d{4}-\d{2}-\d{2}$/.test(e)&&t instanceof Date&&t.getTime()>0))throw new Error("Invalid API version string, expected `1` or date in format `YYYY-MM-DD`")}};exports.validateApiVersion=validateApiVersion;var initConfig=function(e,t){var n=_extends({},t,e);n.apiVersion||warnings.printNoApiVersionSpecifiedWarning();var r=_extends({},defaultConfig,n),i=r.useProjectHostname;if("undefined"==typeof Promise){var o=(0,_generateHelpUrl.default)("js-client-promise-polyfill");throw new Error("No native Promise-implementation found, polyfill needed - see ".concat(o))}if(i&&!r.projectId)throw new Error("Configuration must contain `projectId`");var a="undefined"!=typeof window&&window.location&&window.location.hostname,s=a&&isLocal(window.location.hostname);a&&s&&r.token&&!0!==r.ignoreBrowserTokenWarning?warnings.printBrowserTokenWarning():void 0===r.useCdn&&warnings.printCdnWarning(),i&&validate.projectId(r.projectId),r.dataset&&validate.dataset(r.dataset),"requestTagPrefix"in r&&(r.requestTagPrefix=r.requestTagPrefix?validate.requestTag(r.requestTagPrefix).replace(/\.+$/,""):void 0),r.apiVersion="".concat(r.apiVersion).replace(/^v/,""),r.isDefaultApi=r.apiHost===defaultConfig.apiHost,r.useCdn=Boolean(r.useCdn)&&!r.withCredentials,validateApiVersion(r.apiVersion);var c=r.apiHost.split("://",2),p=c[0],l=c[1],d=r.isDefaultApi?defaultCdnHost:l;return r.useProjectHostname?(r.url="".concat(p,"://").concat(r.projectId,".").concat(l,"/v").concat(r.apiVersion),r.cdnUrl="".concat(p,"://").concat(r.projectId,".").concat(d,"/v").concat(r.apiVersion)):(r.url="".concat(r.apiHost,"/v").concat(r.apiVersion),r.cdnUrl=r.url),r};exports.initConfig=initConfig;

},{"./generateHelpUrl":10,"./validators":24,"./warnings":25}],4:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _observable=require("../util/observable"),validators=_interopRequireWildcard(require("../validators")),_getSelection=_interopRequireDefault(require("../util/getSelection")),_encodeQueryString=_interopRequireDefault(require("./encodeQueryString")),_transaction=_interopRequireDefault(require("./transaction")),_patch=_interopRequireDefault(require("./patch")),_listen=_interopRequireDefault(require("./listen"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _getRequireWildcardCache(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(_getRequireWildcardCache=function(e){return e?r:t})(e)}function _interopRequireWildcard(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==_typeof(e)&&"function"!=typeof e)return{default:e};var r=_getRequireWildcardCache(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var u=i?Object.getOwnPropertyDescriptor(e,o):null;u&&(u.get||u.set)?Object.defineProperty(n,o,u):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _extends(){return(_extends=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function _defineProperty(e,t,r){return(t=_toPropertyKey(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _toPropertyKey(e){var t=_toPrimitive(e,"string");return"symbol"===_typeof(t)?t:String(t)}function _toPrimitive(e,t){if("object"!==_typeof(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==_typeof(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var excludeFalsey=function(e,t){return!1===e?void 0:void 0===e?t:e},getMutationQuery=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{dryRun:e.dryRun,returnIds:!0,returnDocuments:excludeFalsey(e.returnDocuments,!0),visibility:e.visibility||"sync",autoGenerateArrayKeys:e.autoGenerateArrayKeys,skipCrossDatasetReferenceValidation:e.skipCrossDatasetReferenceValidation}},isResponse=function(e){return"response"===e.type},getBody=function(e){return e.body},indexBy=function(e,t){return e.reduce(function(e,r){return e[t(r)]=r,e},Object.create(null))},toPromise=function(e){return e.toPromise()},getQuerySizeLimit=11264,_default={listen:_listen.default,getDataUrl:function(e,t){var r=this.clientConfig,n=validators.hasDataset(r),i="/".concat(e,"/").concat(n),o=t?"".concat(i,"/").concat(t):i;return"/data".concat(o).replace(/\/($|\?)/,"$1")},fetch:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=!1===r.filterResponse?function(e){return e}:function(e){return e.result},i=this._dataRequest("query",{query:e,params:t},r).pipe((0,_observable.map)(n));return this.isPromiseAPI()?toPromise(i):i},getDocument:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r={uri:this.getDataUrl("doc",e),json:!0,tag:t.tag},n=this._requestObservable(r).pipe((0,_observable.filter)(isResponse),(0,_observable.map)(function(e){return e.body.documents&&e.body.documents[0]}));return this.isPromiseAPI()?toPromise(n):n},getDocuments:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r={uri:this.getDataUrl("doc",e.join(",")),json:!0,tag:t.tag},n=this._requestObservable(r).pipe((0,_observable.filter)(isResponse),(0,_observable.map)(function(t){var r=indexBy(t.body.documents||[],function(e){return e._id});return e.map(function(e){return r[e]||null})}));return this.isPromiseAPI()?toPromise(n):n},create:function(e,t){return this._create(e,"create",t)},createIfNotExists:function(e,t){return validators.requireDocumentId("createIfNotExists",e),this._create(e,"createIfNotExists",t)},createOrReplace:function(e,t){return validators.requireDocumentId("createOrReplace",e),this._create(e,"createOrReplace",t)},patch:function(e,t){return new _patch.default(e,t,this)},delete:function(e,t){return this.dataRequest("mutate",{mutations:[{delete:(0,_getSelection.default)(e)}]},t)},mutate:function(e,t){var r=e instanceof _patch.default||e instanceof _transaction.default?e.serialize():e,n=Array.isArray(r)?r:[r],i=t&&t.transactionId;return this.dataRequest("mutate",{mutations:n,transactionId:i},t)},transaction:function(e){return new _transaction.default(e,this)},dataRequest:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=this._dataRequest(e,t,r);return this.isPromiseAPI()?toPromise(n):n},_dataRequest:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n="mutate"===e,i="query"===e,o=!n&&(0,_encodeQueryString.default)(t),u=!n&&o.length<getQuerySizeLimit,a=u?o:"",s=r.returnFirst,c=r.timeout,l=r.token,f=r.tag,d=r.headers,p={method:u?"GET":"POST",uri:this.getDataUrl(e,a),json:!0,body:u?void 0:t,query:n&&getMutationQuery(r),timeout:c,headers:d,token:l,tag:f,canUseCdn:i};return this._requestObservable(p).pipe((0,_observable.filter)(isResponse),(0,_observable.map)(getBody),(0,_observable.map)(function(e){if(!n)return e;var t=e.results||[];if(r.returnDocuments)return s?t[0]&&t[0].document:t.map(function(e){return e.document});var i=s?"documentId":"documentIds",o=s?t[0]&&t[0].id:t.map(function(e){return e.id});return _defineProperty({transactionId:e.transactionId,results:t},i,o)}))},_create:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=_defineProperty({},t,e),i=_extends({returnFirst:!0,returnDocuments:!0},r);return this.dataRequest("mutate",{mutations:[n]},i)}};exports.default=_default,module.exports=exports.default;

},{"../util/getSelection":20,"../util/observable":21,"../validators":24,"./encodeQueryString":5,"./listen":6,"./patch":7,"./transaction":8}],5:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _excluded=["tag"];function _objectWithoutProperties(e,t){if(null==e)return{};var o,c,r=_objectWithoutPropertiesLoose(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(c=0;c<n.length;c++)o=n[c],t.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(e,o)&&(r[o]=e[o])}return r}function _objectWithoutPropertiesLoose(e,t){if(null==e)return{};var o,c,r={},n=Object.keys(e);for(c=0;c<n.length;c++)o=n[c],t.indexOf(o)>=0||(r[o]=e[o]);return r}var enc=encodeURIComponent,_default=function(e){var t=e.query,o=e.params,c=void 0===o?{}:o,r=e.options,n=void 0===r?{}:r,u=n.tag,a=_objectWithoutProperties(n,_excluded),i="query=".concat(enc(t)),s=u?"?tag=".concat(enc(u),"&").concat(i):"?".concat(i),l=Object.keys(c).reduce(function(e,t){return"".concat(e,"&").concat(enc("$".concat(t)),"=").concat(enc(JSON.stringify(c[t])))},s);return Object.keys(a).reduce(function(e,t){return n[t]?"".concat(e,"&").concat(enc(t),"=").concat(enc(n[t])):e},l)};exports.default=_default,module.exports=exports.default;

},{}],6:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=listen;var _observable=require("../util/observable"),_eventsource=_interopRequireDefault(require("@sanity/eventsource")),_pick=_interopRequireDefault(require("../util/pick")),_defaults=_interopRequireDefault(require("../util/defaults")),_encodeQueryString=_interopRequireDefault(require("./encodeQueryString"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _extends(){return(_extends=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}).apply(this,arguments)}function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function _defineProperty(e,r,t){return(r=_toPropertyKey(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function _toPropertyKey(e){var r=_toPrimitive(e,"string");return"symbol"===_typeof(r)?r:String(r)}function _toPrimitive(e,r){if("object"!==_typeof(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,r||"default");if("object"!==_typeof(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}var MAX_URL_LENGTH=14800,EventSource=_eventsource.default,possibleOptions=["includePreviousRevision","includeResult","visibility","effectFormat","tag"],defaultOptions={includeResult:!0};function listen(e,r){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=this.clientConfig,o=n.url,i=n.token,u=n.withCredentials,c=n.requestTagPrefix,a=t.tag&&c?[c,t.tag].join("."):t.tag,s=_objectSpread(_objectSpread({},(0,_defaults.default)(t,defaultOptions)),{},{tag:a}),f=(0,_pick.default)(s,possibleOptions),l=(0,_encodeQueryString.default)({query:e,params:r,options:f,tag:a}),p="".concat(o).concat(this.getDataUrl("listen",l));if(p.length>MAX_URL_LENGTH)return new _observable.Observable(function(e){return e.error(new Error("Query too large for listener"))});var v=s.events?s.events:["mutation"],y=-1!==v.indexOf("reconnect"),d={};return(i||u)&&(d.withCredentials=!0),i&&(d.headers={Authorization:"Bearer ".concat(i)}),new _observable.Observable(function(e){var r,t=s(),n=!1;function o(){n||(y&&e.next({type:"reconnect"}),n||t.readyState===EventSource.CLOSED&&(a(),clearTimeout(r),r=setTimeout(f,100)))}function i(r){e.error(cooerceError(r))}function u(r){var t=parseEvent(r);return t instanceof Error?e.error(t):e.next(t)}function c(r){n=!0,a(),e.complete()}function a(){t.removeEventListener("error",o,!1),t.removeEventListener("channelError",i,!1),t.removeEventListener("disconnect",c,!1),v.forEach(function(e){return t.removeEventListener(e,u,!1)}),t.close()}function s(){var e=new EventSource(p,d);return e.addEventListener("error",o,!1),e.addEventListener("channelError",i,!1),e.addEventListener("disconnect",c,!1),v.forEach(function(r){return e.addEventListener(r,u,!1)}),e}function f(){t=s()}return function(){n=!0,a()}})}function parseEvent(e){try{var r=e.data&&JSON.parse(e.data)||{};return _extends({type:e.type},r)}catch(e){return e}}function cooerceError(e){if(e instanceof Error)return e;var r=parseEvent(e);return r instanceof Error?r:new Error(extractErrorMessage(r))}function extractErrorMessage(e){return e.error?e.error.description?e.error.description:"string"==typeof e.error?e.error:JSON.stringify(e.error,null,2):e.message||"Unknown listener error"}module.exports=exports.default;

},{"../util/defaults":19,"../util/observable":21,"../util/pick":23,"./encodeQueryString":5,"@sanity/eventsource":26}],7:[function(require,module,exports){
"use strict";function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _getSelection=_interopRequireDefault(require("../util/getSelection")),_validators=require("../validators");function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}function _defineProperty(t,e,n){return(e=_toPropertyKey(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey(t){var e=_toPrimitive(t,"string");return"symbol"===_typeof(e)?e:String(e)}function _toPrimitive(t,e){if("object"!==_typeof(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function _extends(){return(_extends=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}function Patch(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.selection=t,this.operations=_extends({},e),this.client=n}_extends(Patch.prototype,{clone:function(){return new Patch(this.selection,_extends({},this.operations),this.client)},set:function(t){return this.assign("set",t)},diffMatchPatch:function(t){return(0,_validators.validateObject)("diffMatchPatch",t),this.assign("diffMatchPatch",t)},unset:function(t){if(!Array.isArray(t))throw new Error("unset(attrs) takes an array of attributes to unset, non-array given");return this.operations=_extends({},this.operations,{unset:t}),this},setIfMissing:function(t){return this.assign("setIfMissing",t)},replace:function(t){return(0,_validators.validateObject)("replace",t),this._set("set",{$:t})},inc:function(t){return this.assign("inc",t)},dec:function(t){return this.assign("dec",t)},insert:function(t,e,n){var i;return(0,_validators.validateInsert)(t,e,n),this.assign("insert",(_defineProperty(i={},t,e),_defineProperty(i,"items",n),i))},append:function(t,e){return this.insert("after","".concat(t,"[-1]"),e)},prepend:function(t,e){return this.insert("before","".concat(t,"[0]"),e)},splice:function(t,e,n,i){var r=e<0?e-1:e,o=void 0===n||-1===n?-1:Math.max(0,e+n),s=r<0&&o>=0?"":o,a="".concat(t,"[").concat(r,":").concat(s,"]");return this.insert("replace",a,i||[])},ifRevisionId:function(t){return this.operations.ifRevisionID=t,this},serialize:function(){return _extends((0,_getSelection.default)(this.selection),this.operations)},toJSON:function(){return this.serialize()},commit:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.client)throw new Error("No `client` passed to patch, either provide one or pass the patch to a clients `mutate()` method");var e=_extends({returnFirst:"string"==typeof this.selection,returnDocuments:!0},t);return this.client.mutate({patch:this.serialize()},e)},reset:function(){return this.operations={},this},_set:function(t,e){return this.assign(t,e,!1)},assign:function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return(0,_validators.validateObject)(t,e),this.operations=_extends({},this.operations,_defineProperty({},t,_extends({},n&&this.operations[t]||{},e))),this}});var _default=Patch;exports.default=_default,module.exports=exports.default;

},{"../util/getSelection":20,"../validators":24}],8:[function(require,module,exports){
"use strict";function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var validators=_interopRequireWildcard(require("../validators")),_patch=_interopRequireDefault(require("./patch"));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}function _getRequireWildcardCache(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,r=new WeakMap;return(_getRequireWildcardCache=function(t){return t?r:e})(t)}function _interopRequireWildcard(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==_typeof(t)&&"function"!=typeof t)return{default:t};var r=_getRequireWildcardCache(e);if(r&&r.has(t))return r.get(t);var i={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if("default"!==o&&Object.prototype.hasOwnProperty.call(t,o)){var a=n?Object.getOwnPropertyDescriptor(t,o):null;a&&(a.get||a.set)?Object.defineProperty(i,o,a):i[o]=t[o]}return i.default=t,r&&r.set(t,i),i}function _defineProperty(t,e,r){return(e=_toPropertyKey(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _toPropertyKey(t){var e=_toPrimitive(t,"string");return"symbol"===_typeof(e)?e:String(e)}function _toPrimitive(t,e){if("object"!==_typeof(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var i=r.call(t,e||"default");if("object"!==_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function _extends(){return(_extends=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t}).apply(this,arguments)}var defaultMutateOptions={returnDocuments:!1};function Transaction(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0;this.trxId=r,this.operations=t,this.client=e}_extends(Transaction.prototype,{clone:function(){return new Transaction(this.operations.slice(0),this.client,this.trxId)},create:function(t){return validators.validateObject("create",t),this._add({create:t})},createIfNotExists:function(t){var e="createIfNotExists";return validators.validateObject(e,t),validators.requireDocumentId(e,t),this._add(_defineProperty({},e,t))},createOrReplace:function(t){var e="createOrReplace";return validators.validateObject(e,t),validators.requireDocumentId(e,t),this._add(_defineProperty({},e,t))},delete:function(t){return validators.validateDocumentId("delete",t),this._add({delete:{id:t}})},patch:function(t,e){var r="function"==typeof e;if(t instanceof _patch.default)return this._add({patch:t.serialize()});if(r){var i=e(new _patch.default(t,{},this.client));if(!(i instanceof _patch.default))throw new Error("function passed to `patch()` must return the patch");return this._add({patch:i.serialize()})}return this._add({patch:_extends({id:t},e)})},transactionId:function(t){return t?(this.trxId=t,this):this.trxId},serialize:function(){return this.operations.slice()},toJSON:function(){return this.serialize()},commit:function(t){if(!this.client)throw new Error("No `client` passed to transaction, either provide one or pass the transaction to a clients `mutate()` method");return this.client.mutate(this.serialize(),_extends({transactionId:this.trxId},defaultMutateOptions,t||{}))},reset:function(){return this.operations=[],this},_add:function(t){return this.operations.push(t),this}});var _default=Transaction;exports.default=_default,module.exports=exports.default;

},{"../validators":24,"./patch":7}],9:[function(require,module,exports){
"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var validate=_interopRequireWildcard(require("../validators"));function _getRequireWildcardCache(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(_getRequireWildcardCache=function(e){return e?r:t})(e)}function _interopRequireWildcard(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==_typeof(e)&&"function"!=typeof e)return{default:e};var r=_getRequireWildcardCache(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var u=o?Object.getOwnPropertyDescriptor(e,i):null;u&&(u.get||u.set)?Object.defineProperty(n,i,u):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}function _extends(){return(_extends=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function DatasetsClient(e){this.request=e.request.bind(e)}_extends(DatasetsClient.prototype,{create:function(e,t){return this._modify("PUT",e,t)},edit:function(e,t){return this._modify("PATCH",e,t)},delete:function(e){return this._modify("DELETE",e)},list:function(){return this.request({uri:"/datasets"})},_modify:function(e,t,r){return validate.dataset(t),this.request({method:e,uri:"/datasets/".concat(t),body:r})}});var _default=DatasetsClient;exports.default=_default,module.exports=exports.default;

},{"../validators":24}],10:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=generateHelpUrl;var BASE_URL="https://docs.sanity.io/help/";function generateHelpUrl(e){return BASE_URL+e}module.exports=exports.default;

},{}],11:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _default=[];exports.default=_default,module.exports=exports.default;

},{}],12:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ClientError=ClientError,exports.ServerError=ServerError;var _makeError=_interopRequireDefault(require("make-error"));function _interopRequireDefault(r){return r&&r.__esModule?r:{default:r}}function _extends(){return(_extends=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(r[o]=t[o])}return r}).apply(this,arguments)}function ClientError(r){var e=extractErrorProps(r);ClientError.super.call(this,e.message),_extends(this,e)}function ServerError(r){var e=extractErrorProps(r);ServerError.super.call(this,e.message),_extends(this,e)}function extractErrorProps(r){var e=r.body,t={response:r,statusCode:r.statusCode,responseBody:stringifyBody(e,r)};return e.error&&e.message?(t.message="".concat(e.error," - ").concat(e.message),t):e.error&&e.error.description?(t.message=e.error.description,t.details=e.error,t):(t.message=e.error||e.message||httpErrorMessage(r),t)}function httpErrorMessage(r){var e=r.statusMessage?" ".concat(r.statusMessage):"";return"".concat(r.method,"-request to ").concat(r.url," resulted in HTTP ").concat(r.statusCode).concat(e)}function stringifyBody(r,e){return-1!==(e.headers["content-type"]||"").toLowerCase().indexOf("application/json")?JSON.stringify(r,null,2):r}(0,_makeError.default)(ClientError),(0,_makeError.default)(ServerError);

},{"make-error":63}],13:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _default=function(e){var t=[];for(var o in e)e.hasOwnProperty(o)&&t.push("".concat(encodeURIComponent(o),"=").concat(encodeURIComponent(e[o])));return t.length>0?"?".concat(t.join("&")):""};exports.default=_default,module.exports=exports.default;

},{}],14:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _getIt=_interopRequireDefault(require("get-it")),_middleware=require("get-it/middleware"),_observable=require("../util/observable"),_errors=require("./errors"),_nodeMiddleware=_interopRequireDefault(require("./nodeMiddleware"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _extends(){return(_extends=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}).apply(this,arguments)}var httpError={onResponse:function(e){if(e.statusCode>=500)throw new _errors.ServerError(e);if(e.statusCode>=400)throw new _errors.ClientError(e);return e}},printWarnings={onResponse:function(e){var r=e.headers["x-sanity-warning"];return(Array.isArray(r)?r:[r]).filter(Boolean).forEach(function(e){return console.warn(e)}),e}},envSpecific=_nodeMiddleware.default,middleware=envSpecific.concat([printWarnings,(0,_middleware.jsonRequest)(),(0,_middleware.jsonResponse)(),(0,_middleware.progress)(),httpError,(0,_middleware.observable)({implementation:_observable.Observable})]),request=(0,_getIt.default)(middleware);function httpRequest(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:request)(_extends({maxRedirects:0},e))}httpRequest.defaultRequester=request,httpRequest.ClientError=_errors.ClientError,httpRequest.ServerError=_errors.ServerError;var _default=httpRequest;exports.default=_default,module.exports=exports.default;

},{"../util/observable":21,"./errors":12,"./nodeMiddleware":11,"get-it":33,"get-it/middleware":43}],15:[function(require,module,exports){
"use strict";function _extends(){return(_extends=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r])}return e}).apply(this,arguments)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var projectHeader="X-Sanity-Project-ID",_default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o={},r=t.token||e.token;r&&(o.Authorization="Bearer ".concat(r)),t.useGlobalApi||e.useProjectHostname||!e.projectId||(o[projectHeader]=e.projectId);var n=Boolean(void 0===t.withCredentials?e.token||e.withCredentials:t.withCredentials),a=void 0===t.timeout?e.timeout:t.timeout;return _extends({},t,{headers:_extends({},o,t.headers||{}),timeout:void 0===a?3e5:a,proxy:t.proxy||e.proxy,json:!0,withCredentials:n})};exports.default=_default,module.exports=exports.default;

},{}],16:[function(require,module,exports){
"use strict";function _extends(){return(_extends=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function ProjectsClient(t){this.client=t}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0,_extends(ProjectsClient.prototype,{list:function(){return this.client.request({uri:"/projects"})},getById:function(t){return this.client.request({uri:"/projects/".concat(t)})}});var _default=ProjectsClient;exports.default=_default,module.exports=exports.default;

},{}],17:[function(require,module,exports){
"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _observable=require("./util/observable"),_patch=_interopRequireDefault(require("./data/patch")),_transaction=_interopRequireDefault(require("./data/transaction")),_dataMethods=_interopRequireDefault(require("./data/dataMethods")),_datasetsClient=_interopRequireDefault(require("./datasets/datasetsClient")),_projectsClient=_interopRequireDefault(require("./projects/projectsClient")),_assetsClient=_interopRequireDefault(require("./assets/assetsClient")),_usersClient=_interopRequireDefault(require("./users/usersClient")),_authClient=_interopRequireDefault(require("./auth/authClient")),_request=_interopRequireDefault(require("./http/request")),_requestOptions=_interopRequireDefault(require("./http/requestOptions")),_config=require("./config"),validate=_interopRequireWildcard(require("./validators"));function _getRequireWildcardCache(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(_getRequireWildcardCache=function(e){return e?r:t})(e)}function _interopRequireWildcard(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==_typeof(e)&&"function"!=typeof e)return{default:e};var r=_getRequireWildcardCache(t);if(r&&r.has(e))return r.get(e);var i={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=n?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(i,o,a):i[o]=e[o]}return i.default=e,r&&r.set(e,i),i}function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,i)}return r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(r),!0).forEach(function(t){_defineProperty(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function _defineProperty(e,t,r){return(t=_toPropertyKey(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _toPropertyKey(e){var t=_toPrimitive(e,"string");return"symbol"===_typeof(t)?t:String(t)}function _toPrimitive(e,t){if("object"!==_typeof(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!==_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function _extends(){return(_extends=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e}).apply(this,arguments)}var toPromise=function(e){return e.toPromise()};function SanityClient(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_config.defaultConfig;if(!(this instanceof SanityClient))return new SanityClient(e);if(this.config(e),this.assets=new _assetsClient.default(this),this.datasets=new _datasetsClient.default(this),this.projects=new _projectsClient.default(this),this.users=new _usersClient.default(this),this.auth=new _authClient.default(this),this.clientConfig.isPromiseAPI){var t=_extends({},this.clientConfig,{isPromiseAPI:!1});this.observable=new SanityClient(t)}}_extends(SanityClient.prototype,_dataMethods.default),_extends(SanityClient.prototype,{clone:function(){return new SanityClient(this.config())},config:function(e){if(void 0===e)return _extends({},this.clientConfig);if(this.clientConfig&&!1===this.clientConfig.allowReconfigure)throw new Error("Existing client instance cannot be reconfigured - use `withConfig(newConfig)` to return a new client");if(this.observable){var t=_extends({},e,{isPromiseAPI:!1});this.observable.config(t)}return this.clientConfig=(0,_config.initConfig)(e,this.clientConfig||{}),this},withConfig:function(e){return new SanityClient(_objectSpread(_objectSpread({},this.config()),e))},getUrl:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1]?this.clientConfig.cdnUrl:this.clientConfig.url;return"".concat(t,"/").concat(e.replace(/^\//,""))},isPromiseAPI:function(){return this.clientConfig.isPromiseAPI},_requestObservable:function(e){var t=this,r=e.url||e.uri,i=void 0===e.canUseCdn?["GET","HEAD"].indexOf(e.method||"GET")>=0&&0===r.indexOf("/data/"):e.canUseCdn,n=this.clientConfig.useCdn&&i,o=e.tag&&this.clientConfig.requestTagPrefix?[this.clientConfig.requestTagPrefix,e.tag].join("."):e.tag||this.clientConfig.requestTagPrefix;o&&(e.query=_objectSpread({tag:validate.requestTag(o)},e.query));var a=(0,_requestOptions.default)(this.clientConfig,_extends({},e,{url:this.getUrl(r,n)}));return new _observable.Observable(function(e){return(0,_request.default)(a,t.clientConfig.requester).subscribe(e)})},request:function(e){var t=this._requestObservable(e).pipe((0,_observable.filter)(function(e){return"response"===e.type}),(0,_observable.map)(function(e){return e.body}));return this.isPromiseAPI()?toPromise(t):t}}),SanityClient.Patch=_patch.default,SanityClient.Transaction=_transaction.default,SanityClient.ClientError=_request.default.ClientError,SanityClient.ServerError=_request.default.ServerError,SanityClient.requester=_request.default.defaultRequester;var _default=SanityClient;exports.default=_default,module.exports=exports.default;

},{"./assets/assetsClient":1,"./auth/authClient":2,"./config":3,"./data/dataMethods":4,"./data/patch":7,"./data/transaction":8,"./datasets/datasetsClient":9,"./http/request":14,"./http/requestOptions":15,"./projects/projectsClient":16,"./users/usersClient":18,"./util/observable":21,"./validators":24}],18:[function(require,module,exports){
"use strict";function _extends(){return(_extends=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e}).apply(this,arguments)}function UsersClient(e){this.client=e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0,_extends(UsersClient.prototype,{getById:function(e){return this.client.request({uri:"/users/".concat(e)})}});var _default=UsersClient;exports.default=_default,module.exports=exports.default;

},{}],19:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _default=function(e,t){return Object.keys(t).concat(Object.keys(e)).reduce(function(r,u){return r[u]=void 0===e[u]?t[u]:e[u],r},{})};exports.default=_default,module.exports=exports.default;

},{}],20:[function(require,module,exports){
"use strict";function getSelection(e){if("string"==typeof e||Array.isArray(e))return{id:e};if(e&&e.query)return"params"in e?{query:e.query,params:e.params}:{query:e.query};var r=["* Document ID (<docId>)","* Array of document IDs","* Object containing `query`"].join("\n");throw new Error("Unknown selection - must be one of:\n\n".concat(r))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=getSelection,module.exports=exports.default;

},{}],21:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"Observable",{enumerable:!0,get:function(){return _Observable.Observable}}),Object.defineProperty(exports,"filter",{enumerable:!0,get:function(){return _filter.filter}}),Object.defineProperty(exports,"map",{enumerable:!0,get:function(){return _map.map}});var _Observable=require("rxjs/internal/Observable"),_filter=require("rxjs/internal/operators/filter"),_map=require("rxjs/internal/operators/map");

},{"rxjs/internal/Observable":70,"rxjs/internal/operators/filter":75,"rxjs/internal/operators/map":76}],22:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _default=function(e){var t,r=!1;return function(){return r?t:(t=e.apply(void 0,arguments),r=!0,t)}};exports.default=_default,module.exports=exports.default;

},{}],23:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _default=function(e,t){return t.reduce(function(t,r){return void 0===e[r]?t:(t[r]=e[r],t)},{})};exports.default=_default,module.exports=exports.default;

},{}],24:[function(require,module,exports){
"use strict";function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.validateObject=exports.validateInsert=exports.validateDocumentId=exports.validateAssetType=exports.requireDocumentId=exports.requestTag=exports.projectId=exports.hasDataset=exports.dataset=void 0;var VALID_ASSET_TYPES=["image","file"],VALID_INSERT_LOCATIONS=["before","after","replace"],dataset=function(t){if(!/^(~[a-z0-9]{1}[-\w]{0,63}|[a-z0-9]{1}[-\w]{0,63})$/.test(t))throw new Error("Datasets can only contain lowercase characters, numbers, underscores and dashes, and start with tilde, and be maximum 64 characters")};exports.dataset=dataset;var projectId=function(t){if(!/^[-a-z0-9]+$/i.test(t))throw new Error("`projectId` can only contain only a-z, 0-9 and dashes")};exports.projectId=projectId;var validateAssetType=function(t){if(-1===VALID_ASSET_TYPES.indexOf(t))throw new Error("Invalid asset type: ".concat(t,". Must be one of ").concat(VALID_ASSET_TYPES.join(", ")))};exports.validateAssetType=validateAssetType;var validateObject=function(t,e){if(null===e||"object"!==_typeof(e)||Array.isArray(e))throw new Error("".concat(t,"() takes an object of properties"))};exports.validateObject=validateObject;var validateDocumentId=function(t,e){if("string"!=typeof e||!/^[a-z0-9_.-]+$/i.test(e))throw new Error("".concat(t,'(): "').concat(e,'" is not a valid document ID'))};exports.validateDocumentId=validateDocumentId;var requireDocumentId=function(t,e){if(!e._id)throw new Error("".concat(t,'() requires that the document contains an ID ("_id" property)'));validateDocumentId(t,e._id)};exports.requireDocumentId=requireDocumentId;var validateInsert=function(t,e,r){var a="insert(at, selector, items)";if(-1===VALID_INSERT_LOCATIONS.indexOf(t)){var o=VALID_INSERT_LOCATIONS.map(function(t){return'"'.concat(t,'"')}).join(", ");throw new Error("".concat(a,' takes an "at"-argument which is one of: ').concat(o))}if("string"!=typeof e)throw new Error("".concat(a,' takes a "selector"-argument which must be a string'));if(!Array.isArray(r))throw new Error("".concat(a,' takes an "items"-argument which must be an array'))};exports.validateInsert=validateInsert;var hasDataset=function(t){if(!t.dataset)throw new Error("`dataset` must be provided to perform queries");return t.dataset||""};exports.hasDataset=hasDataset;var requestTag=function(t){if("string"!=typeof t||!/^[a-z0-9._-]{1,75}$/i.test(t))throw new Error("Tag can only contain alphanumeric characters, underscores, dashes and dots, and be between one and 75 characters long.");return t};exports.requestTag=requestTag;

},{}],25:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.printNoApiVersionSpecifiedWarning=exports.printCdnWarning=exports.printBrowserTokenWarning=void 0;var _generateHelpUrl=_interopRequireDefault(require("./generateHelpUrl")),_once=_interopRequireDefault(require("./util/once"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var createWarningPrinter=function(e){return(0,_once.default)(function(){for(var n,r=arguments.length,i=new Array(r),t=0;t<r;t++)i[t]=arguments[t];return(n=console).warn.apply(n,[e.join(" ")].concat(i))})},printCdnWarning=createWarningPrinter(["You are not using the Sanity CDN. That means your data is always fresh, but the CDN is faster and","cheaper. Think about it! For more info, see ".concat((0,_generateHelpUrl.default)("js-client-cdn-configuration"),"."),"To hide this warning, please set the `useCdn` option to either `true` or `false` when creating","the client."]);exports.printCdnWarning=printCdnWarning;var printBrowserTokenWarning=createWarningPrinter(["You have configured Sanity client to use a token in the browser. This may cause unintentional security issues.","See ".concat((0,_generateHelpUrl.default)("js-client-browser-token")," for more information and how to hide this warning.")]);exports.printBrowserTokenWarning=printBrowserTokenWarning;var printNoApiVersionSpecifiedWarning=createWarningPrinter(["Using the Sanity client without specifying an API version is deprecated.","See ".concat((0,_generateHelpUrl.default)("js-client-api-version"))]);exports.printNoApiVersionSpecifiedWarning=printNoApiVersionSpecifiedWarning;

},{"./generateHelpUrl":10,"./util/once":22}],26:[function(require,module,exports){
var evs=require("event-source-polyfill");module.exports=evs.EventSourcePolyfill;

},{"event-source-polyfill":31}],27:[function(require,module,exports){
"use strict";module.exports=Error.captureStackTrace||function(r){var e=new Error;Object.defineProperty(r,"stack",{configurable:!0,get:function(){var r=e.stack;return Object.defineProperty(this,"stack",{value:r}),r}})};

},{}],28:[function(require,module,exports){
"use strict";var captureStackTrace=require("capture-stack-trace");function inherits(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}module.exports=function(e,t){if("string"!=typeof e)throw new TypeError("Expected className to be a string");if(/[^0-9a-zA-Z_$]/.test(e))throw new Error("className contains invalid characters");t=t||function(e){this.message=e};var r=function(){Object.defineProperty(this,"name",{configurable:!0,value:e,writable:!0}),captureStackTrace(this,this.constructor),t.apply(this,arguments)};return inherits(r,Error),r};

},{"capture-stack-trace":27}],29:[function(require,module,exports){
(function (process){(function (){
function useColors(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))}function formatArgs(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+module.exports.humanize(this.diff),!this.useColors)return;const o="color: "+this.color;e.splice(1,0,o,"color: inherit");let t=0,C=0;e[0].replace(/%[a-zA-Z%]/g,e=>{"%%"!==e&&(t++,"%c"===e&&(C=t))}),e.splice(C,0,o)}function save(e){try{e?exports.storage.setItem("debug",e):exports.storage.removeItem("debug")}catch(e){}}function load(){let e;try{e=exports.storage.getItem("debug")}catch(e){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e}function localstorage(){try{return localStorage}catch(e){}}exports.formatArgs=formatArgs,exports.save=save,exports.load=load,exports.useColors=useColors,exports.storage=localstorage(),exports.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),exports.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],exports.log=console.debug||console.log||(()=>{}),module.exports=require("./common")(exports);const{formatters:formatters}=module.exports;formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}};

}).call(this)}).call(this,require('_process'))
},{"./common":30,"_process":67}],30:[function(require,module,exports){
function setup(e){function n(e){let r,s,o,l=null;function a(...e){if(!a.enabled)return;const t=a,s=Number(new Date),o=s-(r||s);t.diff=o,t.prev=r,t.curr=s,r=s,e[0]=n.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let l=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,(r,s)=>{if("%%"===r)return"%";l++;const o=n.formatters[s];if("function"==typeof o){const n=e[l];r=o.call(t,n),e.splice(l,1),l--}return r}),n.formatArgs.call(t,e),(t.log||n.log).apply(t,e)}return a.namespace=e,a.useColors=n.useColors(),a.color=n.selectColor(e),a.extend=t,a.destroy=n.destroy,Object.defineProperty(a,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==l?l:(s!==n.namespaces&&(s=n.namespaces,o=n.enabled(e)),o),set:e=>{l=e}}),"function"==typeof n.init&&n.init(a),a}function t(e,t){const r=n(this.namespace+(void 0===t?":":t)+e);return r.log=this.log,r}function r(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return n.debug=n,n.default=n,n.coerce=function(e){if(e instanceof Error)return e.stack||e.message;return e},n.disable=function(){const e=[...n.names.map(r),...n.skips.map(r).map(e=>"-"+e)].join(",");return n.enable(""),e},n.enable=function(e){let t;n.save(e),n.namespaces=e,n.names=[],n.skips=[];const r=("string"==typeof e?e:"").split(/[\s,]+/),s=r.length;for(t=0;t<s;t++)r[t]&&("-"===(e=r[t].replace(/\*/g,".*?"))[0]?n.skips.push(new RegExp("^"+e.slice(1)+"$")):n.names.push(new RegExp("^"+e+"$")))},n.enabled=function(e){if("*"===e[e.length-1])return!0;let t,r;for(t=0,r=n.skips.length;t<r;t++)if(n.skips[t].test(e))return!1;for(t=0,r=n.names.length;t<r;t++)if(n.names[t].test(e))return!0;return!1},n.humanize=require("ms"),n.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach(t=>{n[t]=e[t]}),n.names=[],n.skips=[],n.formatters={},n.selectColor=function(e){let t=0;for(let n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t|=0;return n.colors[Math.abs(t)%n.colors.length]},n.enable(n.load()),n}module.exports=setup;

},{"ms":64}],31:[function(require,module,exports){
!function(e){"use strict";var t=e.setTimeout,n=e.clearTimeout,r=e.XMLHttpRequest,o=e.XDomainRequest,i=e.ActiveXObject,a=e.EventSource,s=e.document,c=e.Promise,l=e.fetch,u=e.Response,d=e.TextDecoder,h=e.TextEncoder,p=e.AbortController;if("undefined"==typeof window||void 0===s||"readyState"in s||null!=s.body||(s.readyState="loading",window.addEventListener("load",function(e){s.readyState="complete"},!1)),null==r&&null!=i&&(r=function(){return new i("Microsoft.XMLHTTP")}),null==Object.create&&(Object.create=function(e){function t(){}return t.prototype=e,new t}),Date.now||(Date.now=function(){return(new Date).getTime()}),null==p){var f=l;l=function(e,t){var n=t.signal;return f(e,{headers:t.headers,credentials:t.credentials,cache:t.cache}).then(function(e){var t=e.body.getReader();return n._reader=t,n._aborted&&n._reader.cancel(),{status:e.status,statusText:e.statusText,headers:e.headers,body:{getReader:function(){return t}}}})},p=function(){this.signal={_reader:null,_aborted:!1},this.abort=function(){null!=this.signal._reader&&this.signal._reader.cancel(),this.signal._aborted=!0}}}function y(){this.bitsNeeded=0,this.codePoint=0}y.prototype.decode=function(e){function t(e,t,n){if(1===n)return e>=128>>t&&e<<t<=2047;if(2===n)return e>=2048>>t&&e<<t<=55295||e>=57344>>t&&e<<t<=65535;if(3===n)return e>=65536>>t&&e<<t<=1114111;throw new Error}function n(e,t){if(6===e)return t>>6>15?3:t>31?2:1;if(12===e)return t>15?3:2;if(18===e)return 3;throw new Error}for(var r="",o=this.bitsNeeded,i=this.codePoint,a=0;a<e.length;a+=1){var s=e[a];0!==o&&(s<128||s>191||!t(i<<6|63&s,o-6,n(o,i)))&&(o=0,i=65533,r+=String.fromCharCode(i)),0===o?(s>=0&&s<=127?(o=0,i=s):s>=192&&s<=223?(o=6,i=31&s):s>=224&&s<=239?(o=12,i=15&s):s>=240&&s<=247?(o=18,i=7&s):(o=0,i=65533),0===o||t(i,o,n(o,i))||(o=0,i=65533)):(o-=6,i=i<<6|63&s),0===o&&(i<=65535?r+=String.fromCharCode(i):(r+=String.fromCharCode(55296+(i-65535-1>>10)),r+=String.fromCharCode(56320+(i-65535-1&1023))))}return this.bitsNeeded=o,this.codePoint=i,r};null!=d&&null!=h&&function(){try{return"test"===(new d).decode((new h).encode("test"),{stream:!0})}catch(e){console.debug("TextDecoder does not support streaming option. Using polyfill instead: "+e)}return!1}()||(d=y);var v=function(){};function g(e){this.withCredentials=!1,this.readyState=0,this.status=0,this.statusText="",this.responseText="",this.onprogress=v,this.onload=v,this.onerror=v,this.onreadystatechange=v,this._contentType="",this._xhr=e,this._sendTimeout=0,this._abort=v}function w(e){return e.replace(/[A-Z]/g,function(e){return String.fromCharCode(e.charCodeAt(0)+32)})}function b(e){for(var t=Object.create(null),n=e.split("\r\n"),r=0;r<n.length;r+=1){var o=n[r].split(": "),i=o.shift(),a=o.join(": ");t[w(i)]=a}this._map=t}function E(){}function m(e){this._headers=e}function C(){}function T(){this._listeners=Object.create(null)}function _(e){t(function(){throw e},0)}function S(e){this.type=e,this.target=void 0}function x(e,t){S.call(this,e),this.data=t.data,this.lastEventId=t.lastEventId}function A(e,t){S.call(this,e),this.status=t.status,this.statusText=t.statusText,this.headers=t.headers}function R(e,t){S.call(this,e),this.error=t.error}g.prototype.open=function(e,o){this._abort(!0);var i=this,a=this._xhr,s=1,c=0;this._abort=function(e){0!==i._sendTimeout&&(n(i._sendTimeout),i._sendTimeout=0),1!==s&&2!==s&&3!==s||(s=4,a.onload=v,a.onerror=v,a.onabort=v,a.onprogress=v,a.onreadystatechange=v,a.abort(),0!==c&&(n(c),c=0),e||(i.readyState=4,i.onabort(null),i.onreadystatechange())),s=0};var l=function(){if(1===s){var e=0,t="",n=void 0;if("contentType"in a)e=200,t="OK",n=a.contentType;else try{e=a.status,t=a.statusText,n=a.getResponseHeader("Content-Type")}catch(r){e=0,t="",n=void 0}0!==e&&(s=2,i.readyState=2,i.status=e,i.statusText=t,i._contentType=n,i.onreadystatechange())}},u=function(){if(l(),2===s||3===s){s=3;var e="";try{e=a.responseText}catch(e){}i.readyState=3,i.responseText=e,i.onprogress()}},d=function(e,t){if(null!=t&&null!=t.preventDefault||(t={preventDefault:v}),u(),1===s||2===s||3===s){if(s=4,0!==c&&(n(c),c=0),i.readyState=4,"load"===e)i.onload(t);else if("error"===e)i.onerror(t);else{if("abort"!==e)throw new TypeError;i.onabort(t)}i.onreadystatechange()}},h=function(){c=t(function(){h()},500),3===a.readyState&&u()};"onload"in a&&(a.onload=function(e){d("load",e)}),"onerror"in a&&(a.onerror=function(e){d("error",e)}),"onabort"in a&&(a.onabort=function(e){d("abort",e)}),"onprogress"in a&&(a.onprogress=u),"onreadystatechange"in a&&(a.onreadystatechange=function(e){!function(e){null!=a&&(4===a.readyState?"onload"in a&&"onerror"in a&&"onabort"in a||d(""===a.responseText?"error":"load",e):3===a.readyState?"onprogress"in a||u():2===a.readyState&&l())}(e)}),!("contentType"in a)&&"ontimeout"in r.prototype||(o+=(-1===o.indexOf("?")?"?":"&")+"padding=true"),a.open(e,o,!0),"readyState"in a&&(c=t(function(){h()},0))},g.prototype.abort=function(){this._abort(!1)},g.prototype.getResponseHeader=function(e){return this._contentType},g.prototype.setRequestHeader=function(e,t){var n=this._xhr;"setRequestHeader"in n&&n.setRequestHeader(e,t)},g.prototype.getAllResponseHeaders=function(){return null!=this._xhr.getAllResponseHeaders&&this._xhr.getAllResponseHeaders()||""},g.prototype.send=function(){if("ontimeout"in r.prototype&&("sendAsBinary"in r.prototype||"mozAnon"in r.prototype)||null==s||null==s.readyState||"complete"===s.readyState){var e=this._xhr;"withCredentials"in e&&(e.withCredentials=this.withCredentials);try{e.send(void 0)}catch(e){throw e}}else{var n=this;n._sendTimeout=t(function(){n._sendTimeout=0,n.send()},4)}},b.prototype.get=function(e){return this._map[w(e)]},null!=r&&null==r.HEADERS_RECEIVED&&(r.HEADERS_RECEIVED=2),E.prototype.open=function(e,t,n,o,i,a,s){e.open("GET",i);var c=0;for(var l in e.onprogress=function(){var t=e.responseText.slice(c);c+=t.length,n(t)},e.onerror=function(e){e.preventDefault(),o(new Error("NetworkError"))},e.onload=function(){o(null)},e.onabort=function(){o(null)},e.onreadystatechange=function(){if(e.readyState===r.HEADERS_RECEIVED){var n=e.status,o=e.statusText,i=e.getResponseHeader("Content-Type"),a=e.getAllResponseHeaders();t(n,o,i,new b(a))}},e.withCredentials=a,s)Object.prototype.hasOwnProperty.call(s,l)&&e.setRequestHeader(l,s[l]);return e.send(),e},m.prototype.get=function(e){return this._headers.get(e)},C.prototype.open=function(e,t,n,r,o,i,a){var s=null,u=new p,h=u.signal,f=new d;return l(o,{headers:a,credentials:i?"include":"same-origin",signal:h,cache:"no-store"}).then(function(e){return s=e.body.getReader(),t(e.status,e.statusText,e.headers.get("Content-Type"),new m(e.headers)),new c(function(e,t){var r=function(){s.read().then(function(t){if(t.done)e(void 0);else{var o=f.decode(t.value,{stream:!0});n(o),r()}}).catch(function(e){t(e)})};r()})}).catch(function(e){return"AbortError"===e.name?void 0:e}).then(function(e){r(e)}),{abort:function(){null!=s&&s.cancel(),u.abort()}}},T.prototype.dispatchEvent=function(e){e.target=this;var t=this._listeners[e.type];if(null!=t)for(var n=t.length,r=0;r<n;r+=1){var o=t[r];try{"function"==typeof o.handleEvent?o.handleEvent(e):o.call(this,e)}catch(e){_(e)}}},T.prototype.addEventListener=function(e,t){e=String(e);var n=this._listeners,r=n[e];null==r&&(r=[],n[e]=r);for(var o=!1,i=0;i<r.length;i+=1)r[i]===t&&(o=!0);o||r.push(t)},T.prototype.removeEventListener=function(e,t){e=String(e);var n=this._listeners,r=n[e];if(null!=r){for(var o=[],i=0;i<r.length;i+=1)r[i]!==t&&o.push(r[i]);0===o.length?delete n[e]:n[e]=o}},x.prototype=Object.create(S.prototype),A.prototype=Object.create(S.prototype),R.prototype=Object.create(S.prototype);var O=-1,D=0,H=1,N=2,j=-1,I=0,P=1,L=2,M=3,q=/^text\/event\-stream(;.*)?$/i,X=function(e,t){var n=null==e?t:parseInt(e,10);return n!=n&&(n=t),G(n)},G=function(e){return Math.min(Math.max(e,1e3),18e6)},V=function(e,t,n){try{"function"==typeof t&&t.call(e,n)}catch(e){_(e)}};function B(e,i){T.call(this),i=i||{},this.onopen=void 0,this.onmessage=void 0,this.onerror=void 0,this.url=void 0,this.readyState=void 0,this.withCredentials=void 0,this.headers=void 0,this._close=void 0,function(e,i,a){i=String(i);var s=Boolean(a.withCredentials),c=a.lastEventIdQueryParameterName||"lastEventId",l=G(1e3),u=X(a.heartbeatTimeout,45e3),d="",h=l,p=!1,f=0,y=a.headers||{},v=a.Transport,w=U&&null==v?void 0:new g(null!=v?new v:null!=r&&"withCredentials"in r.prototype||null==o?new r:new o),b=null!=v&&"string"!=typeof v?new v:null==w?new C:new E,m=void 0,T=0,_=O,S="",B="",k="",z="",K=I,Q=0,Z=0,$=function(t,n,r,o){if(_===D)if(200===t&&null!=r&&q.test(r)){_=H,p=Date.now(),h=l,e.readyState=H;var i=new A("open",{status:t,statusText:n,headers:o});e.dispatchEvent(i),V(e,e.onopen,i)}else{var a="";200!==t?(n&&(n=n.replace(/\s+/g," ")),a="EventSource's response has a status "+t+" "+n+" that is not 200. Aborting the connection."):a="EventSource's response has a Content-Type specifying an unsupported type: "+(null==r?"-":r.replace(/\s+/g," "))+". Aborting the connection.",W();var i=new A("error",{status:t,statusText:n,headers:o});e.dispatchEvent(i),V(e,e.onerror,i),console.error(a)}},F=function(r){if(_===H){for(var o=-1,i=0;i<r.length;i+=1){var a=r.charCodeAt(i);a!=="\n".charCodeAt(0)&&a!=="\r".charCodeAt(0)||(o=i)}var s=(-1!==o?z:"")+r.slice(0,o+1);z=(-1===o?z:"")+r.slice(o+1),""!==r&&(p=Date.now(),f+=r.length);for(var c=0;c<s.length;c+=1){var a=s.charCodeAt(c);if(K===j&&a==="\n".charCodeAt(0))K=I;else if(K===j&&(K=I),a==="\r".charCodeAt(0)||a==="\n".charCodeAt(0)){if(K!==I){K===P&&(Z=c+1);var y=s.slice(Q,Z-1),v=s.slice(Z+(Z<c&&s.charCodeAt(Z)===" ".charCodeAt(0)?1:0),c);"data"===y?(S+="\n",S+=v):"id"===y?B=v:"event"===y?k=v:"retry"===y?(l=X(v,l),h=l):"heartbeatTimeout"===y&&(u=X(v,u),0!==T&&(n(T),T=t(function(){Y()},u)))}if(K===I){if(""!==S){d=B,""===k&&(k="message");var g=new x(k,{data:S.slice(1),lastEventId:B});if(e.dispatchEvent(g),"open"===k?V(e,e.onopen,g):"message"===k?V(e,e.onmessage,g):"error"===k&&V(e,e.onerror,g),_===N)return}S="",k=""}K=a==="\r".charCodeAt(0)?j:I}else K===I&&(Q=c,K=P),K===P?a===":".charCodeAt(0)&&(Z=c+1,K=L):K===L&&(K=M)}}},J=function(r){if(_===H||_===D){_=O,0!==T&&(n(T),T=0),T=t(function(){Y()},h),h=G(Math.min(16*l,2*h)),e.readyState=D;var o=new R("error",{error:r});e.dispatchEvent(o),V(e,e.onerror,o),null!=r&&console.error(r)}},W=function(){_=N,null!=m&&(m.abort(),m=void 0),0!==T&&(n(T),T=0),e.readyState=N},Y=function(){if(T=0,_===O){p=!1,f=0,T=t(function(){Y()},u),_=D,S="",k="",B=d,z="",Q=0,Z=0,K=I;var n=i;if("data:"!==i.slice(0,5)&&"blob:"!==i.slice(0,5)&&""!==d){var r=i.indexOf("?");n=-1===r?i:i.slice(0,r+1)+i.slice(r+1).replace(/(?:^|&)([^=&]*)(?:=[^&]*)?/g,function(e,t){return t===c?"":e}),n+=(-1===i.indexOf("?")?"?":"&")+c+"="+encodeURIComponent(d)}var o=e.withCredentials,a={Accept:"text/event-stream"},s=e.headers;if(null!=s)for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&(a[l]=s[l]);try{m=b.open(w,$,F,J,n,o,a)}catch(e){throw W(),e}}else if(p||null==m){var h=Math.max((p||Date.now())+u-Date.now(),1);p=!1,T=t(function(){Y()},h)}else J(new Error("No activity within "+u+" milliseconds. "+(_===D?"No response received.":f+" chars received.")+" Reconnecting.")),null!=m&&(m.abort(),m=void 0)};e.url=i,e.readyState=D,e.withCredentials=s,e.headers=y,e._close=W,Y()}(this,e,i)}var U=null!=l&&null!=u&&"body"in u.prototype;B.prototype=Object.create(T.prototype),B.prototype.CONNECTING=D,B.prototype.OPEN=H,B.prototype.CLOSED=N,B.prototype.close=function(){this._close()},B.CONNECTING=D,B.OPEN=H,B.CLOSED=N,B.prototype.withCredentials=void 0;var k=a;null==r||null!=a&&"withCredentials"in a.prototype||(k=B),function(t){if("object"==typeof module&&"object"==typeof module.exports){var n=t(exports);void 0!==n&&(module.exports=n)}else"function"==typeof define&&define.amd?define(["exports"],t):t(e)}(function(e){e.EventSourcePolyfill=B,e.NativeEventSource=a,e.EventSource=k})}("undefined"==typeof globalThis?"undefined"!=typeof window?window:"undefined"!=typeof self?self:this:globalThis);

},{}],32:[function(require,module,exports){
"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n};module.exports=function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=Boolean(t.sorted),e=Boolean(t.skipIndex),r=Boolean(t.ignorenull),u=function(n){return String(n).replace(/(?:[\0-\x1F"-&\+-\}\x7F-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/g,encodeURIComponent).replace(/ /g,"+").replace(/[!'()~\*]/g,function(n){return"%"+n.charCodeAt().toString(16).slice(-2).toUpperCase()})},i=function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.keys(n);return o?t.sort():t},c=function(n){return n.filter(function(n){return n}).join("&")},l=function(n,t){return c(i(t).map(function(o){return F(n+"["+o+"]",t[o])}))},f=function(n,t){return t.length?c(t.map(function(t,o){return F(e?n+"[]":n+"["+o+"]",t)})):u(n+"[]")},F=function(n,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0===t?"undefined":_typeof(t),e=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return t===e?e=r?e:u(n)+"="+e:/string|number|boolean/.test(o)?e=u(n)+"="+u(t):Array.isArray(t)?e=f(n,t):"object"===o&&(e=l(n,t)),e};return n&&c(i(n).map(function(t){return F(t,n[t])}))};

},{}],33:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=createRequester;var _nanoPubsub=_interopRequireDefault(require("nano-pubsub")),_middlewareReducer=_interopRequireDefault(require("./util/middlewareReducer")),_defaultOptionsProcessor=_interopRequireDefault(require("./middleware/defaultOptionsProcessor")),_defaultOptionsValidator=_interopRequireDefault(require("./middleware/defaultOptionsValidator")),_request=_interopRequireDefault(require("./request"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var pubsub="default"in _nanoPubsub.default?_nanoPubsub.default.default:_nanoPubsub.default,channelNames=["request","response","progress","error","abort"],middlehooks=["processOptions","validateOptions","interceptRequest","finalizeOptions","onRequest","onResponse","onError","onReturn","onHeaders"];function createRequester(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_request.default,t=[],o=middlehooks.reduce(function(e,r){return e[r]=e[r]||[],e},{processOptions:[_defaultOptionsProcessor.default],validateOptions:[_defaultOptionsValidator.default]});function n(e){var t=channelNames.reduce(function(e,r){return e[r]=pubsub(),e},{}),n=(0,_middlewareReducer.default)(o),u=n("processOptions",e);n("validateOptions",u);var a={options:u,channels:t,applyMiddleware:n},s=null,i=t.request.subscribe(function(e){s=r(e,function(r,o){return function(e,r,o){var u=e,a=r;if(!u)try{a=n("onResponse",r,o)}catch(e){a=null,u=e}(u=u&&n("onError",u,o))?t.error.publish(u):a&&t.response.publish(a)}(r,o,e)})});t.abort.subscribe(function(){i(),s&&s.abort()});var d=n("onReturn",t,a);return d===t&&t.request.publish(a),d}return n.use=function(e){if(!e)throw new Error("Tried to add middleware that resolved to falsey value");if("function"==typeof e)throw new Error("Tried to add middleware that was a function. It probably expects you to pass options to it.");if(e.onReturn&&o.onReturn.length>0)throw new Error("Tried to add new middleware with `onReturn` handler, but another handler has already been registered for this event");return middlehooks.forEach(function(r){e[r]&&o[r].push(e[r])}),t.push(e),n},n.clone=function(){return createRequester(t)},e.forEach(n.use),n}module.exports=exports.default;

},{"./middleware/defaultOptionsProcessor":39,"./middleware/defaultOptionsValidator":40,"./request":58,"./util/middlewareReducer":61,"nano-pubsub":65}],34:[function(require,module,exports){
"use strict";function _extends(){return(_extends=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var leadingSlash=/^\//,trailingSlash=/\/$/,_default=function(e){var t=e.replace(trailingSlash,"");return{processOptions:function(e){if(/^https?:\/\//i.test(e.url))return e;var r=[t,e.url.replace(leadingSlash,"")].join("/");return _extends({},e,{url:r})}}};exports.default=_default,module.exports=exports.default;

},{}],35:[function(require,module,exports){
"use strict";function Cancel(e){this.message=e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0,Cancel.prototype.toString=function(){return"Cancel".concat(this.message?": ".concat(this.message):"")},Cancel.prototype.__CANCEL__=!0;var _default=Cancel;exports.default=_default,module.exports=exports.default;

},{}],36:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var Cancel=require("./Cancel");function CancelToken(e){var n=this;if("function"!=typeof e)throw new TypeError("executor must be a function.");var o=null;this.promise=new Promise(function(e){o=e}),e(function(e){n.reason||(n.reason=new Cancel(e),o(n.reason))})}CancelToken.source=function(){var e;return{token:new CancelToken(function(n){e=n}),cancel:e}};var _default=CancelToken;exports.default=_default,module.exports=exports.default;

},{"./Cancel":35}],37:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _default=function(e){return!(!e||!e.__CANCEL__)};exports.default=_default,module.exports=exports.default;

},{}],38:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _debug=_interopRequireDefault(require("debug"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var SENSITIVE_HEADERS=["cookie","authorization"],hasOwn=Object.prototype.hasOwnProperty,redactKeys=function(e,r){var t={};for(var s in e)hasOwn.call(e,s)&&(t[s]=r.indexOf(s.toLowerCase())>-1?"<redacted>":e[s]);return t},_default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.verbose,t=e.namespace||"get-it",s=(0,_debug.default)(t),o=e.log||s,n=o===s&&!_debug.default.enabled(t),u=0;return{processOptions:function(e){return e.debug=o,e.requestId=e.requestId||++u,e},onRequest:function(t){if(n||!t)return t;var s=t.options;if(o("[%s] HTTP %s %s",s.requestId,s.method,s.url),r&&s.body&&"string"==typeof s.body&&o("[%s] Request body: %s",s.requestId,s.body),r&&s.headers){var u=!1===e.redactSensitiveHeaders?s.headers:redactKeys(s.headers,SENSITIVE_HEADERS);o("[%s] Request headers: %s",s.requestId,JSON.stringify(u,null,2))}return t},onResponse:function(e,t){if(n||!e)return e;var s=t.options.requestId;return o("[%s] Response code: %s %s",s,e.statusCode,e.statusMessage),r&&e.body&&o("[%s] Response body: %s",s,stringifyBody(e)),e},onError:function(e,r){var t=r.options.requestId;return e?(o("[%s] ERROR: %s",t,e.message),e):(o("[%s] Error encountered, but handled by an earlier middleware",t),e)}}};function stringifyBody(e){return-1!==(e.headers["content-type"]||"").toLowerCase().indexOf("application/json")?tryFormat(e.body):e.body}function tryFormat(e){try{var r="string"==typeof e?JSON.parse(e):e;return JSON.stringify(r,null,2)}catch(r){return e}}exports.default=_default,module.exports=exports.default;

},{"debug":29}],39:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _urlParse=_interopRequireDefault(require("url-parse"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _extends(){return(_extends=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var isReactNative="undefined"!=typeof navigator&&"ReactNative"===navigator.product,has=Object.prototype.hasOwnProperty,defaultOptions={timeout:isReactNative?6e4:12e4},_default=function(e){var t="string"==typeof e?_extends({url:e},defaultOptions):_extends({},defaultOptions,e),r=(0,_urlParse.default)(t.url,{},!0);return t.timeout=normalizeTimeout(t.timeout),t.query&&(r.query=_extends({},r.query,removeUndefined(t.query))),t.method=t.body&&!t.method?"POST":(t.method||"GET").toUpperCase(),t.url=r.toString(stringifyQueryString),t};function stringifyQueryString(e){var t=[];for(var r in e)has.call(e,r)&&n(r,e[r]);return t.length?t.join("&"):"";function n(e,r){Array.isArray(r)?r.forEach(function(t){return n(e,t)}):t.push([e,r].map(encodeURIComponent).join("="))}}function normalizeTimeout(e){if(!1===e||0===e)return!1;if(e.connect||e.socket)return e;var t=Number(e);return isNaN(t)?normalizeTimeout(defaultOptions.timeout):{connect:t,socket:t}}function removeUndefined(e){var t={};for(var r in e)void 0!==e[r]&&(t[r]=e[r]);return t}exports.default=_default,module.exports=exports.default;

},{"url-parse":90}],40:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var validUrl=/^https?:\/\//i,_default=function(t){if(!validUrl.test(t.url))throw new Error('"'.concat(t.url,'" is not a valid URL'))};exports.default=_default,module.exports=exports.default;

},{}],41:[function(require,module,exports){
"use strict";function _extends(){return(_extends=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{processOptions:function(r){var n=r.headers||{};return r.headers=t.override?_extends({},n,e):_extends({},e,n),r}}};exports.default=_default,module.exports=exports.default;

},{}],42:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _createErrorClass=_interopRequireDefault(require("create-error-class"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var HttpError=(0,_createErrorClass.default)("HttpError",function(e,t){var r=e.url.length>400?"".concat(e.url.slice(0,399),""):e.url,o="".concat(e.method,"-request to ").concat(r," resulted in ");o+="HTTP ".concat(e.statusCode," ").concat(e.statusMessage),this.message=o.trim(),this.response=e,this.request=t.options}),_default=function(){return{onResponse:function(e,t){if(!(e.statusCode>=400))return e;throw new HttpError(e,t)}}};exports.default=_default,module.exports=exports.default;

},{"create-error-class":28}],43:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"base",{enumerable:!0,get:function(){return _base.default}}),Object.defineProperty(exports,"debug",{enumerable:!0,get:function(){return _debug.default}}),Object.defineProperty(exports,"headers",{enumerable:!0,get:function(){return _headers.default}}),Object.defineProperty(exports,"httpErrors",{enumerable:!0,get:function(){return _httpErrors.default}}),Object.defineProperty(exports,"injectResponse",{enumerable:!0,get:function(){return _injectResponse.default}}),Object.defineProperty(exports,"jsonRequest",{enumerable:!0,get:function(){return _jsonRequest.default}}),Object.defineProperty(exports,"jsonResponse",{enumerable:!0,get:function(){return _jsonResponse.default}}),Object.defineProperty(exports,"keepAlive",{enumerable:!0,get:function(){return _keepAlive.default}}),Object.defineProperty(exports,"mtls",{enumerable:!0,get:function(){return _mtls.default}}),Object.defineProperty(exports,"observable",{enumerable:!0,get:function(){return _observable.default}}),Object.defineProperty(exports,"progress",{enumerable:!0,get:function(){return _progress.default}}),Object.defineProperty(exports,"promise",{enumerable:!0,get:function(){return _promise.default}}),Object.defineProperty(exports,"proxy",{enumerable:!0,get:function(){return _proxy.default}}),Object.defineProperty(exports,"retry",{enumerable:!0,get:function(){return _retry.default}}),Object.defineProperty(exports,"urlEncoded",{enumerable:!0,get:function(){return _urlEncoded.default}});var _base=_interopRequireDefault(require("./base")),_debug=_interopRequireDefault(require("./debug")),_jsonRequest=_interopRequireDefault(require("./jsonRequest")),_jsonResponse=_interopRequireDefault(require("./jsonResponse")),_httpErrors=_interopRequireDefault(require("./httpErrors")),_retry=_interopRequireDefault(require("./retry")),_promise=_interopRequireDefault(require("./promise")),_observable=_interopRequireDefault(require("./observable")),_progress=_interopRequireDefault(require("./progress")),_headers=_interopRequireDefault(require("./headers")),_injectResponse=_interopRequireDefault(require("./injectResponse")),_urlEncoded=_interopRequireDefault(require("./urlEncoded")),_proxy=_interopRequireDefault(require("./proxy")),_keepAlive=_interopRequireDefault(require("./keepAlive")),_mtls=_interopRequireDefault(require("./mtls"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"./base":34,"./debug":38,"./headers":41,"./httpErrors":42,"./injectResponse":44,"./jsonRequest":45,"./jsonResponse":46,"./keepAlive":47,"./mtls":48,"./observable":49,"./progress":51,"./promise":52,"./proxy":53,"./retry":54,"./urlEncoded":55}],44:[function(require,module,exports){
"use strict";function _extends(){return(_extends=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("function"!=typeof e.inject)throw new Error("`injectResponse` middleware requires a `inject` function");return{interceptRequest:function(t,r){var n=e.inject(r,t);if(!n)return t;var o=r.context.options;return _extends({},{body:"",url:o.url,method:o.method,headers:{},statusCode:200,statusMessage:"OK"},n)}}};exports.default=_default,module.exports=exports.default;

},{}],45:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _isPlainObject=require("is-plain-object");function _extends(){return(_extends=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r])}return e}).apply(this,arguments)}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var serializeTypes=["boolean","string","number"],isBuffer=function(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},_default=function(){return{processOptions:function(e){var t=e.body;return t&&!("function"==typeof t.pipe)&&!isBuffer(t)&&(-1!==serializeTypes.indexOf(_typeof(t))||Array.isArray(t)||(0,_isPlainObject.isPlainObject)(t))?_extends({},e,{body:JSON.stringify(e.body),headers:_extends({},e.headers,{"Content-Type":"application/json"})}):e}}};exports.default=_default,module.exports=exports.default;

},{"is-plain-object":62}],46:[function(require,module,exports){
"use strict";function _extends(){return(_extends=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _default=function(e){return{onResponse:function(t){var r=t.headers["content-type"]||"",n=e&&e.force||-1!==r.indexOf("application/json");return t.body&&r&&n?_extends({},t,{body:tryParse(t.body)}):t},processOptions:function(e){return _extends({},e,{headers:_extends({Accept:"application/json"},e.headers)})}}};function tryParse(e){try{return JSON.parse(e)}catch(e){throw e.message="Failed to parsed response body as JSON: ".concat(e.message),e}}exports.default=_default,module.exports=exports.default;

},{}],47:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _default=function(){};exports.default=_default,module.exports=exports.default;

},{}],48:[function(require,module,exports){
"use strict";function _extends(){return(_extends=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e}).apply(this,arguments)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!e.ca)throw new Error('Required mtls option "ca" is missing');if(!e.cert)throw new Error('Required mtls option "cert" is missing');if(!e.key)throw new Error('Required mtls option "key" is missing');return{finalizeOptions:function(t){return _extends({},t,{cert:e.cert,key:e.key,ca:e.ca})}}};exports.default=_default,module.exports=exports.default;

},{}],49:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _global=_interopRequireDefault(require("../util/global"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _extends(){return(_extends=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}).apply(this,arguments)}var _default=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).implementation||_global.default.Observable;if(!e)throw new Error("`Observable` is not available in global scope, and no implementation was passed");return{onReturn:function(r,t){return new e(function(e){return r.error.subscribe(function(r){return e.error(r)}),r.progress.subscribe(function(r){return e.next(_extends({type:"progress"},r))}),r.response.subscribe(function(r){e.next(_extends({type:"response"},r)),e.complete()}),r.request.publish(t),function(){return r.abort.publish()}})}}};exports.default=_default,module.exports=exports.default;

},{"../util/global":60}],50:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _default=function(){return{onRequest:function(e){if("xhr"===e.adapter){var o=e.request,t=e.context;"upload"in o&&"onprogress"in o.upload&&(o.upload.onprogress=r("upload")),"onprogress"in o&&(o.onprogress=r("download"))}function r(e){return function(o){var r=o.lengthComputable?o.loaded/o.total*100:-1;t.channels.progress.publish({stage:e,percent:r,total:o.total,loaded:o.loaded,lengthComputable:o.lengthComputable})}}}}};exports.default=_default,module.exports=exports.default;

},{}],51:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"default",{enumerable:!0,get:function(){return _nodeProgress.default}});var _nodeProgress=_interopRequireDefault(require("./node-progress"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}module.exports=exports.default;

},{"./node-progress":50}],52:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _Cancel=_interopRequireDefault(require("./cancel/Cancel")),_CancelToken=_interopRequireDefault(require("./cancel/CancelToken")),_isCancel=_interopRequireDefault(require("./cancel/isCancel"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var globalPromise="function"==typeof Promise&&Promise,promise=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.implementation||globalPromise;if(!n)throw new Error("`Promise` is not available in global scope, and no implementation was passed");return{onReturn:function(o,r){return new n(function(n,t){var i=r.options.cancelToken;i&&i.promise.then(function(e){o.abort.publish(e),t(e)}),o.error.subscribe(t),o.response.subscribe(function(o){n(e.onlyBody?o.body:o)}),setTimeout(function(){try{o.request.publish(r)}catch(e){t(e)}},0)})}}};promise.Cancel=_Cancel.default,promise.CancelToken=_CancelToken.default,promise.isCancel=_isCancel.default;var _default=promise;exports.default=_default,module.exports=exports.default;

},{"./cancel/Cancel":35,"./cancel/CancelToken":36,"./cancel/isCancel":37}],53:[function(require,module,exports){
"use strict";function _extends(){return(_extends=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e}).apply(this,arguments)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _default=function(e){if(!(!1===e||e&&e.host))throw new Error("Proxy middleware takes an object of host, port and auth properties");return{processOptions:function(t){return _extends({proxy:e},t)}}};exports.default=_default,module.exports=exports.default;

},{}],54:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _nodeShouldRetry=_interopRequireDefault(require("../util/node-shouldRetry"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _extends(){return(_extends=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e}).apply(this,arguments)}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var isStream=function(e){return null!==e&&"object"===_typeof(e)&&"function"==typeof e.pipe},retry=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.maxRetries||5,r=e.retryDelay||getRetryDelay,o=e.shouldRetry||_nodeShouldRetry.default;return{onError:function(e,n){var u=n.options,l=u.maxRetries||t,i=u.shouldRetry||o,a=u.attemptNumber||0;if(isStream(u.body))return e;if(!i(e,a,u)||a>=l)return e;var f=_extends({},n,{options:_extends({},u,{attemptNumber:a+1})});return setTimeout(function(){return n.channels.request.publish(f)},r(a)),null}}};retry.shouldRetry=_nodeShouldRetry.default;var _default=retry;function getRetryDelay(e){return 100*Math.pow(2,e)+100*Math.random()}exports.default=_default,module.exports=exports.default;

},{"../util/node-shouldRetry":59}],55:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _isPlainObject=require("is-plain-object"),_formUrlencoded=_interopRequireDefault(require("form-urlencoded"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _extends(){return(_extends=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var encode=_formUrlencoded.default.default||_formUrlencoded.default,isBuffer=function(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},_default=function(){return{processOptions:function(e){var t=e.body;return t&&!("function"==typeof t.pipe)&&!isBuffer(t)&&(0,_isPlainObject.isPlainObject)(t)?_extends({},e,{body:encode(e.body),headers:_extends({},e.headers,{"Content-Type":"application/x-www-form-urlencoded"})}):e}}};exports.default=_default,module.exports=exports.default;

},{"form-urlencoded":32,"is-plain-object":62}],56:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _sameOrigin=_interopRequireDefault(require("same-origin")),_parseHeaders=_interopRequireDefault(require("parse-headers")),_fetchXhr=_interopRequireDefault(require("./browser/fetchXhr"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var noop=function(){},win="undefined"==typeof document||"undefined"==typeof window?void 0:window,adapter=win?"xhr":"fetch",XmlHttpRequest="function"==typeof XMLHttpRequest?XMLHttpRequest:noop,hasXhr2="withCredentials"in new XmlHttpRequest,XDR="undefined"==typeof XDomainRequest?void 0:XDomainRequest,CrossDomainRequest=hasXhr2?XmlHttpRequest:XDR;win||(XmlHttpRequest=_fetchXhr.default,CrossDomainRequest=_fetchXhr.default);var _default=function(e,t){var r=e.options,n=e.applyMiddleware("finalizeOptions",r),o={},u=win&&win.location&&!(0,_sameOrigin.default)(win.location.href,n.url),a=e.applyMiddleware("interceptRequest",void 0,{adapter:adapter,context:e});if(a){var s=setTimeout(t,0,null,a);return{abort:function(){return clearTimeout(s)}}}var i=u?new CrossDomainRequest:new XmlHttpRequest,d=win&&win.XDomainRequest&&i instanceof win.XDomainRequest,l=n.headers,c=n.timeout,f=!1,p=!1,w=!1;if(i.onerror=R,i.ontimeout=R,i.onabort=function(){q(!0),f=!0},i.onprogress=function(){},i[d?"onload":"onreadystatechange"]=function(){!function(){if(!c)return;q(),o.socket=setTimeout(function(){return h("ESOCKETTIMEDOUT")},c.socket)}(),f||4!==i.readyState&&!d||0!==i.status&&function(){if(f||p||w)return;if(0===i.status)return void R(new Error("Unknown XHR error"));q(),p=!0,t(null,function(){var e=i.status,t=i.statusText;if(d&&void 0===e)e=200;else{if(e>12e3&&e<12156)return R();e=1223===i.status?204:i.status,t=1223===i.status?"No Content":t}return{body:i.response||i.responseText,url:n.url,method:n.method,headers:d?{}:(0,_parseHeaders.default)(i.getAllResponseHeaders()),statusCode:e,statusMessage:t}}())}()},i.open(n.method,n.url,!0),i.withCredentials=!!n.withCredentials,l&&i.setRequestHeader)for(var m in l)l.hasOwnProperty(m)&&i.setRequestHeader(m,l[m]);else if(l&&d)throw new Error("Headers cannot be set on an XDomainRequest object");return n.rawBody&&(i.responseType="arraybuffer"),e.applyMiddleware("onRequest",{options:n,adapter:adapter,request:i,context:e}),i.send(n.body||null),c&&(o.connect=setTimeout(function(){return h("ETIMEDOUT")},c.connect)),{abort:function(){f=!0,i&&i.abort()}};function h(t){w=!0,i.abort();var r=new Error("ESOCKETTIMEDOUT"===t?"Socket timed out on request to ".concat(n.url):"Connection timed out on request to ".concat(n.url));r.code=t,e.channels.error.publish(r)}function q(e){(e||f||i.readyState>=2&&o.connect)&&clearTimeout(o.connect),o.socket&&clearTimeout(o.socket)}function R(e){if(!p){q(!0),p=!0,i=null;var r=e||new Error("Network error while attempting to reach ".concat(n.url));r.isNetworkError=!0,r.request=n,t(r)}}};exports.default=_default,module.exports=exports.default;

},{"./browser/fetchXhr":57,"parse-headers":66,"same-origin":88}],57:[function(require,module,exports){
"use strict";function FetchXhr(){this.readyState=0}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0,FetchXhr.prototype.open=function(t,e){this._method=t,this._url=e,this._resHeaders="",this.readyState=1,this.onreadystatechange()},FetchXhr.prototype.abort=function(){this._controller&&this._controller.abort()},FetchXhr.prototype.getAllResponseHeaders=function(){return this._resHeaders},FetchXhr.prototype.setRequestHeader=function(t,e){this._headers=this._headers||{},this._headers[t]=e},FetchXhr.prototype.send=function(t){var e=this,r=this._controller="function"==typeof AbortController&&new AbortController,o="arraybuffer"!==this.responseType,s={method:this._method,headers:this._headers,signal:r&&r.signal||void 0,body:t};"undefined"!=typeof document&&(s.credentials=this.withCredentials?"include":"omit"),fetch(this._url,s).then(function(t){return t.headers.forEach(function(t,r){e._resHeaders+="".concat(r,": ").concat(t,"\r\n")}),e.status=t.status,e.statusText=t.statusText,e.readyState=3,o?t.text():t.arrayBuffer()}).then(function(t){o?e.responseText=t:e.response=t,e.readyState=4,e.onreadystatechange()}).catch(function(t){"AbortError"!==t.name?e.onerror(t):e.onabort()})};var _default=FetchXhr;exports.default=_default,module.exports=exports.default;

},{}],58:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _nodeRequest=_interopRequireDefault(require("./node-request"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var _default=_nodeRequest.default;exports.default=_default,module.exports=exports.default;

},{"./node-request":56}],59:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _default=function(e,t,r){return("GET"===r.method||"HEAD"===r.method)&&(e.isNetworkError||!1)};exports.default=_default,module.exports=exports.default;

},{}],60:[function(require,module,exports){
(function (global){(function (){
"use strict";var actualGlobal;Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _default=actualGlobal="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};exports.default=_default,module.exports=exports.default;

}).call(this)}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{}],61:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _default=function(e){return function(r,t){for(var o="onError"===r,u=t,a=arguments.length,n=new Array(a>2?a-2:0),l=2;l<a;l++)n[l-2]=arguments[l];for(var d=0;d<e[r].length&&(u=e[r][d].apply(void 0,[u].concat(n)),!o||u);d++);return u}};exports.default=_default,module.exports=exports.default;

},{}],62:[function(require,module,exports){
"use strict";function isObject(t){return"[object Object]"===Object.prototype.toString.call(t)}function isPlainObject(t){var e,o;return!1!==isObject(t)&&(void 0===(e=t.constructor)||!1!==isObject(o=e.prototype)&&!1!==o.hasOwnProperty("isPrototypeOf"))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.isPlainObject=isPlainObject;

},{}],63:[function(require,module,exports){
"use strict";var construct="undefined"!=typeof Reflect?Reflect.construct:void 0,defineProperty=Object.defineProperty,captureStackTrace=Error.captureStackTrace;function BaseError(r){void 0!==r&&defineProperty(this,"message",{configurable:!0,value:r,writable:!0});var e=this.constructor.name;void 0!==e&&e!==this.name&&defineProperty(this,"name",{configurable:!0,value:e,writable:!0}),captureStackTrace(this,this.constructor)}void 0===captureStackTrace&&(captureStackTrace=function(r){var e=new Error;defineProperty(r,"stack",{configurable:!0,get:function(){var r=e.stack;return defineProperty(this,"stack",{configurable:!0,value:r,writable:!0}),r},set:function(e){defineProperty(r,"stack",{configurable:!0,value:e,writable:!0})}})}),BaseError.prototype=Object.create(Error.prototype,{constructor:{configurable:!0,value:BaseError,writable:!0}});var setFunctionName=function(){function r(r,e){return defineProperty(r,"name",{configurable:!0,value:e})}try{var e=function(){};if(r(e,"foo"),"foo"===e.name)return r}catch(r){}}();function makeError(r,e){if(null==e||e===Error)e=BaseError;else if("function"!=typeof e)throw new TypeError("super_ should be a function");var t;if("string"==typeof r)t=r,r=void 0!==construct?function(){return construct(e,arguments,this.constructor)}:function(){e.apply(this,arguments)},void 0!==setFunctionName&&(setFunctionName(r,t),t=void 0);else if("function"!=typeof r)throw new TypeError("constructor should be either a string or a function");r.super_=r.super=e;var o={constructor:{configurable:!0,value:r,writable:!0}};return void 0!==t&&(o.name={configurable:!0,value:t,writable:!0}),r.prototype=Object.create(e.prototype,o),r}exports=module.exports=makeError,exports.BaseError=BaseError;

},{}],64:[function(require,module,exports){
var s=1e3,m=60*s,h=60*m,d=24*h,w=7*d,y=365.25*d;function parse(e){if(!((e=String(e)).length>100)){var r=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(r){var a=parseFloat(r[1]);switch((r[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return a*y;case"weeks":case"week":case"w":return a*w;case"days":case"day":case"d":return a*d;case"hours":case"hour":case"hrs":case"hr":case"h":return a*h;case"minutes":case"minute":case"mins":case"min":case"m":return a*m;case"seconds":case"second":case"secs":case"sec":case"s":return a*s;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return a;default:return}}}}function fmtShort(e){var r=Math.abs(e);return r>=d?Math.round(e/d)+"d":r>=h?Math.round(e/h)+"h":r>=m?Math.round(e/m)+"m":r>=s?Math.round(e/s)+"s":e+"ms"}function fmtLong(e){var r=Math.abs(e);return r>=d?plural(e,r,d,"day"):r>=h?plural(e,r,h,"hour"):r>=m?plural(e,r,m,"minute"):r>=s?plural(e,r,s,"second"):e+" ms"}function plural(s,e,r,a){var n=e>=1.5*r;return Math.round(s/r)+" "+a+(n?"s":"")}module.exports=function(s,e){e=e||{};var r=typeof s;if("string"===r&&s.length>0)return parse(s);if("number"===r&&isFinite(s))return e.long?fmtLong(s):fmtShort(s);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(s))};

},{}],65:[function(require,module,exports){
"use strict";function createPubSub(){var e=Object.create(null),t=0;return{publish:function(t){for(var r in e)e[r](t)},subscribe:function(r){var u=t++;return e[u]=r,function(){delete e[u]}}}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=createPubSub;

},{}],66:[function(require,module,exports){
var trim=function(r){return r.replace(/^\s+|\s+$/g,"")},isArray=function(r){return"[object Array]"===Object.prototype.toString.call(r)};module.exports=function(r){if(!r)return{};for(var t={},e=trim(r).split("\n"),i=0;i<e.length;i++){var n=e[i],o=n.indexOf(":"),s=trim(n.slice(0,o)).toLowerCase(),a=trim(n.slice(o+1));void 0===t[s]?t[s]=a:isArray(t[s])?t[s].push(a):t[s]=[t[s],a]}return t};

},{}],67:[function(require,module,exports){
var cachedSetTimeout,cachedClearTimeout,process=module.exports={};function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}function runTimeout(e){if(cachedSetTimeout===setTimeout)return setTimeout(e,0);if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout)return cachedSetTimeout=setTimeout,setTimeout(e,0);try{return cachedSetTimeout(e,0)}catch(t){try{return cachedSetTimeout.call(null,e,0)}catch(t){return cachedSetTimeout.call(this,e,0)}}}function runClearTimeout(e){if(cachedClearTimeout===clearTimeout)return clearTimeout(e);if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout)return cachedClearTimeout=clearTimeout,clearTimeout(e);try{return cachedClearTimeout(e)}catch(t){try{return cachedClearTimeout.call(null,e)}catch(t){return cachedClearTimeout.call(this,e)}}}!function(){try{cachedSetTimeout="function"==typeof setTimeout?setTimeout:defaultSetTimout}catch(e){cachedSetTimeout=defaultSetTimout}try{cachedClearTimeout="function"==typeof clearTimeout?clearTimeout:defaultClearTimeout}catch(e){cachedClearTimeout=defaultClearTimeout}}();var currentQueue,queue=[],draining=!1,queueIndex=-1;function cleanUpNextTick(){draining&&currentQueue&&(draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue())}function drainQueue(){if(!draining){var e=runTimeout(cleanUpNextTick);draining=!0;for(var t=queue.length;t;){for(currentQueue=queue,queue=[];++queueIndex<t;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,t=queue.length}currentQueue=null,draining=!1,runClearTimeout(e)}}function Item(e,t){this.fun=e,this.array=t}function noop(){}process.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];queue.push(new Item(e,t)),1!==queue.length||draining||runTimeout(drainQueue)},Item.prototype.run=function(){this.fun.apply(null,this.array)},process.title="browser",process.browser=!0,process.env={},process.argv=[],process.version="",process.versions={},process.on=noop,process.addListener=noop,process.once=noop,process.off=noop,process.removeListener=noop,process.removeAllListeners=noop,process.emit=noop,process.prependListener=noop,process.prependOnceListener=noop,process.listeners=function(e){return[]},process.binding=function(e){throw new Error("process.binding is not supported")},process.cwd=function(){return"/"},process.chdir=function(e){throw new Error("process.chdir is not supported")},process.umask=function(){return 0};

},{}],68:[function(require,module,exports){
"use strict";var undef,has=Object.prototype.hasOwnProperty;function decode(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(e){return null}}function encode(e){try{return encodeURIComponent(e)}catch(e){return null}}function querystring(e){for(var n,r=/([^=?#&]+)=?([^&]*)/g,t={};n=r.exec(e);){var o=decode(n[1]),u=decode(n[2]);null===o||null===u||o in t||(t[o]=u)}return t}function querystringify(e,n){n=n||"";var r,t,o=[];for(t in"string"!=typeof n&&(n="?"),e)if(has.call(e,t)){if((r=e[t])||null!==r&&r!==undef&&!isNaN(r)||(r=""),t=encode(t),r=encode(r),null===t||null===r)continue;o.push(t+"="+r)}return o.length?n+o.join("&"):""}exports.stringify=querystringify,exports.parse=querystring;

},{}],69:[function(require,module,exports){
"use strict";module.exports=function(e,t){if(t=t.split(":")[0],!(e=+e))return!1;switch(t){case"http":case"ws":return 80!==e;case"https":case"wss":return 443!==e;case"ftp":return 21!==e;case"gopher":return 70!==e;case"file":return!1}return 0!==e};

},{}],70:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var canReportError_1=require("./util/canReportError"),toSubscriber_1=require("./util/toSubscriber"),observable_1=require("./symbol/observable"),pipe_1=require("./util/pipe"),config_1=require("./config"),Observable=function(){function r(r){this._isScalar=!1,r&&(this._subscribe=r)}return r.prototype.lift=function(e){var o=new r;return o.source=this,o.operator=e,o},r.prototype.subscribe=function(r,e,o){var t=this.operator,n=toSubscriber_1.toSubscriber(r,e,o);if(t?n.add(t.call(n,this.source)):n.add(this.source||config_1.config.useDeprecatedSynchronousErrorHandling&&!n.syncErrorThrowable?this._subscribe(n):this._trySubscribe(n)),config_1.config.useDeprecatedSynchronousErrorHandling&&n.syncErrorThrowable&&(n.syncErrorThrowable=!1,n.syncErrorThrown))throw n.syncErrorValue;return n},r.prototype._trySubscribe=function(r){try{return this._subscribe(r)}catch(e){config_1.config.useDeprecatedSynchronousErrorHandling&&(r.syncErrorThrown=!0,r.syncErrorValue=e),canReportError_1.canReportError(r)?r.error(e):console.warn(e)}},r.prototype.forEach=function(r,e){var o=this;return new(e=getPromiseCtor(e))(function(e,t){var n;n=o.subscribe(function(e){try{r(e)}catch(r){t(r),n&&n.unsubscribe()}},t,e)})},r.prototype._subscribe=function(r){var e=this.source;return e&&e.subscribe(r)},r.prototype[observable_1.observable]=function(){return this},r.prototype.pipe=function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return 0===r.length?this:pipe_1.pipeFromArray(r)(this)},r.prototype.toPromise=function(r){var e=this;return new(r=getPromiseCtor(r))(function(r,o){var t;e.subscribe(function(r){return t=r},function(r){return o(r)},function(){return r(t)})})},r.create=function(e){return new r(e)},r}();function getPromiseCtor(r){if(r||(r=config_1.config.Promise||Promise),!r)throw new Error("no Promise impl found");return r}exports.Observable=Observable;

},{"./config":74,"./symbol/observable":77,"./util/canReportError":80,"./util/pipe":86,"./util/toSubscriber":87}],71:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var config_1=require("./config"),hostReportError_1=require("./util/hostReportError");exports.empty={closed:!0,next:function(r){},error:function(r){if(config_1.config.useDeprecatedSynchronousErrorHandling)throw r;hostReportError_1.hostReportError(r)},complete:function(){}};

},{"./config":74,"./util/hostReportError":81}],72:[function(require,module,exports){
"use strict";var __extends=this&&this.__extends||function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,t){r.__proto__=t}||function(r,t){for(var e in t)t.hasOwnProperty(e)&&(r[e]=t[e])})(t,e)};return function(t,e){function o(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}();Object.defineProperty(exports,"__esModule",{value:!0});var isFunction_1=require("./util/isFunction"),Observer_1=require("./Observer"),Subscription_1=require("./Subscription"),rxSubscriber_1=require("../internal/symbol/rxSubscriber"),config_1=require("./config"),hostReportError_1=require("./util/hostReportError"),Subscriber=function(r){function t(e,o,n){var s=r.call(this)||this;switch(s.syncErrorValue=null,s.syncErrorThrown=!1,s.syncErrorThrowable=!1,s.isStopped=!1,arguments.length){case 0:s.destination=Observer_1.empty;break;case 1:if(!e){s.destination=Observer_1.empty;break}if("object"==typeof e){e instanceof t?(s.syncErrorThrowable=e.syncErrorThrowable,s.destination=e,e.add(s)):(s.syncErrorThrowable=!0,s.destination=new SafeSubscriber(s,e));break}default:s.syncErrorThrowable=!0,s.destination=new SafeSubscriber(s,e,o,n)}return s}return __extends(t,r),t.prototype[rxSubscriber_1.rxSubscriber]=function(){return this},t.create=function(r,e,o){var n=new t(r,e,o);return n.syncErrorThrowable=!1,n},t.prototype.next=function(r){this.isStopped||this._next(r)},t.prototype.error=function(r){this.isStopped||(this.isStopped=!0,this._error(r))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,r.prototype.unsubscribe.call(this))},t.prototype._next=function(r){this.destination.next(r)},t.prototype._error=function(r){this.destination.error(r),this.unsubscribe()},t.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},t.prototype._unsubscribeAndRecycle=function(){var r=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=r,this},t}(Subscription_1.Subscription);exports.Subscriber=Subscriber;var SafeSubscriber=function(r){function t(t,e,o,n){var s,i=r.call(this)||this;i._parentSubscriber=t;var c=i;return isFunction_1.isFunction(e)?s=e:e&&(s=e.next,o=e.error,n=e.complete,e!==Observer_1.empty&&(c=Object.create(e),isFunction_1.isFunction(c.unsubscribe)&&i.add(c.unsubscribe.bind(c)),c.unsubscribe=i.unsubscribe.bind(i))),i._context=c,i._next=s,i._error=o,i._complete=n,i}return __extends(t,r),t.prototype.next=function(r){if(!this.isStopped&&this._next){var t=this._parentSubscriber;config_1.config.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,r)&&this.unsubscribe():this.__tryOrUnsub(this._next,r)}},t.prototype.error=function(r){if(!this.isStopped){var t=this._parentSubscriber,e=config_1.config.useDeprecatedSynchronousErrorHandling;if(this._error)e&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,r),this.unsubscribe()):(this.__tryOrUnsub(this._error,r),this.unsubscribe());else if(t.syncErrorThrowable)e?(t.syncErrorValue=r,t.syncErrorThrown=!0):hostReportError_1.hostReportError(r),this.unsubscribe();else{if(this.unsubscribe(),e)throw r;hostReportError_1.hostReportError(r)}}},t.prototype.complete=function(){var r=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var e=function(){return r._complete.call(r._context)};config_1.config.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}},t.prototype.__tryOrUnsub=function(r,t){try{r.call(this._context,t)}catch(r){if(this.unsubscribe(),config_1.config.useDeprecatedSynchronousErrorHandling)throw r;hostReportError_1.hostReportError(r)}},t.prototype.__tryOrSetError=function(r,t,e){if(!config_1.config.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,e)}catch(t){return config_1.config.useDeprecatedSynchronousErrorHandling?(r.syncErrorValue=t,r.syncErrorThrown=!0,!0):(hostReportError_1.hostReportError(t),!0)}return!1},t.prototype._unsubscribe=function(){var r=this._parentSubscriber;this._context=null,this._parentSubscriber=null,r.unsubscribe()},t}(Subscriber);exports.SafeSubscriber=SafeSubscriber;

},{"../internal/symbol/rxSubscriber":78,"./Observer":71,"./Subscription":73,"./config":74,"./util/hostReportError":81,"./util/isFunction":84}],73:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var isArray_1=require("./util/isArray"),isObject_1=require("./util/isObject"),isFunction_1=require("./util/isFunction"),UnsubscriptionError_1=require("./util/UnsubscriptionError"),Subscription=function(){function r(r){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,r&&(this._ctorUnsubscribe=!0,this._unsubscribe=r)}var i;return r.prototype.unsubscribe=function(){var i;if(!this.closed){var s=this._parentOrParents,t=this._ctorUnsubscribe,n=this._unsubscribe,e=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,s instanceof r)s.remove(this);else if(null!==s)for(var o=0;o<s.length;++o){s[o].remove(this)}if(isFunction_1.isFunction(n)){t&&(this._unsubscribe=void 0);try{n.call(this)}catch(r){i=r instanceof UnsubscriptionError_1.UnsubscriptionError?flattenUnsubscriptionErrors(r.errors):[r]}}if(isArray_1.isArray(e)){o=-1;for(var u=e.length;++o<u;){var c=e[o];if(isObject_1.isObject(c))try{c.unsubscribe()}catch(r){i=i||[],r instanceof UnsubscriptionError_1.UnsubscriptionError?i=i.concat(flattenUnsubscriptionErrors(r.errors)):i.push(r)}}}if(i)throw new UnsubscriptionError_1.UnsubscriptionError(i)}},r.prototype.add=function(i){var s=i;if(!i)return r.EMPTY;switch(typeof i){case"function":s=new r(i);case"object":if(s===this||s.closed||"function"!=typeof s.unsubscribe)return s;if(this.closed)return s.unsubscribe(),s;if(!(s instanceof r)){var t=s;(s=new r)._subscriptions=[t]}break;default:throw new Error("unrecognized teardown "+i+" added to Subscription.")}var n=s._parentOrParents;if(null===n)s._parentOrParents=this;else if(n instanceof r){if(n===this)return s;s._parentOrParents=[n,this]}else{if(-1!==n.indexOf(this))return s;n.push(this)}var e=this._subscriptions;return null===e?this._subscriptions=[s]:e.push(s),s},r.prototype.remove=function(r){var i=this._subscriptions;if(i){var s=i.indexOf(r);-1!==s&&i.splice(s,1)}},r.EMPTY=((i=new r).closed=!0,i),r}();function flattenUnsubscriptionErrors(r){return r.reduce(function(r,i){return r.concat(i instanceof UnsubscriptionError_1.UnsubscriptionError?i.errors:i)},[])}exports.Subscription=Subscription;

},{"./util/UnsubscriptionError":79,"./util/isArray":83,"./util/isFunction":84,"./util/isObject":85}],74:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _enable_super_gross_mode_that_will_cause_bad_things=!1;exports.config={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){if(e){var r=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+r.stack)}else _enable_super_gross_mode_that_will_cause_bad_things&&console.log("RxJS: Back to a better error behavior. Thank you. <3");_enable_super_gross_mode_that_will_cause_bad_things=e},get useDeprecatedSynchronousErrorHandling(){return _enable_super_gross_mode_that_will_cause_bad_things}};

},{}],75:[function(require,module,exports){
"use strict";var __extends=this&&this.__extends||function(){var t=function(r,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var e in r)r.hasOwnProperty(e)&&(t[e]=r[e])})(r,e)};return function(r,e){function i(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();Object.defineProperty(exports,"__esModule",{value:!0});var Subscriber_1=require("../Subscriber");function filter(t,r){return function(e){return e.lift(new FilterOperator(t,r))}}exports.filter=filter;var FilterOperator=function(){function t(t,r){this.predicate=t,this.thisArg=r}return t.prototype.call=function(t,r){return r.subscribe(new FilterSubscriber(t,this.predicate,this.thisArg))},t}(),FilterSubscriber=function(t){function r(r,e,i){var n=t.call(this,r)||this;return n.predicate=e,n.thisArg=i,n.count=0,n}return __extends(r,t),r.prototype._next=function(t){var r;try{r=this.predicate.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}r&&this.destination.next(t)},r}(Subscriber_1.Subscriber);

},{"../Subscriber":72}],76:[function(require,module,exports){
"use strict";var __extends=this&&this.__extends||function(){var t=function(r,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var e in r)r.hasOwnProperty(e)&&(t[e]=r[e])})(r,e)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(exports,"__esModule",{value:!0});var Subscriber_1=require("../Subscriber");function map(t,r){return function(e){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return e.lift(new MapOperator(t,r))}}exports.map=map;var MapOperator=function(){function t(t,r){this.project=t,this.thisArg=r}return t.prototype.call=function(t,r){return r.subscribe(new MapSubscriber(t,this.project,this.thisArg))},t}();exports.MapOperator=MapOperator;var MapSubscriber=function(t){function r(r,e,n){var o=t.call(this,r)||this;return o.project=e,o.count=0,o.thisArg=n||o,o}return __extends(r,t),r.prototype._next=function(t){var r;try{r=this.project.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}this.destination.next(r)},r}(Subscriber_1.Subscriber);

},{"../Subscriber":72}],77:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.observable="function"==typeof Symbol&&Symbol.observable||"@@observable";

},{}],78:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.rxSubscriber="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random(),exports.$$rxSubscriber=exports.rxSubscriber;

},{}],79:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var UnsubscriptionErrorImpl=function(){function r(r){return Error.call(this),this.message=r?r.length+" errors occurred during unsubscription:\n"+r.map(function(r,t){return t+1+") "+r.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=r,this}return r.prototype=Object.create(Error.prototype),r}();exports.UnsubscriptionError=UnsubscriptionErrorImpl;

},{}],80:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var Subscriber_1=require("../Subscriber");function canReportError(r){for(;r;){var e=r,o=e.closed,t=e.destination,i=e.isStopped;if(o||i)return!1;r=t&&t instanceof Subscriber_1.Subscriber?t:null}return!0}exports.canReportError=canReportError;

},{"../Subscriber":72}],81:[function(require,module,exports){
"use strict";function hostReportError(r){setTimeout(function(){throw r},0)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.hostReportError=hostReportError;

},{}],82:[function(require,module,exports){
"use strict";function identity(e){return e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.identity=identity;

},{}],83:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isArray=Array.isArray||function(e){return e&&"number"==typeof e.length};

},{}],84:[function(require,module,exports){
"use strict";function isFunction(t){return"function"==typeof t}Object.defineProperty(exports,"__esModule",{value:!0}),exports.isFunction=isFunction;

},{}],85:[function(require,module,exports){
"use strict";function isObject(e){return null!==e&&"object"==typeof e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.isObject=isObject;

},{}],86:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var identity_1=require("./identity");function pipe(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return pipeFromArray(e)}function pipeFromArray(e){return 0===e.length?identity_1.identity:1===e.length?e[0]:function(r){return e.reduce(function(e,r){return r(e)},r)}}exports.pipe=pipe,exports.pipeFromArray=pipeFromArray;

},{"./identity":82}],87:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var Subscriber_1=require("../Subscriber"),rxSubscriber_1=require("../symbol/rxSubscriber"),Observer_1=require("../Observer");function toSubscriber(r,e,b){if(r){if(r instanceof Subscriber_1.Subscriber)return r;if(r[rxSubscriber_1.rxSubscriber])return r[rxSubscriber_1.rxSubscriber]()}return r||e||b?new Subscriber_1.Subscriber(r,e,b):new Subscriber_1.Subscriber(Observer_1.empty)}exports.toSubscriber=toSubscriber;

},{"../Observer":71,"../Subscriber":72,"../symbol/rxSubscriber":78}],88:[function(require,module,exports){
"use strict";var url=require("url");module.exports=function(o,r,t){if(o===r)return!0;var p=url.parse(o,!1,!0),e=url.parse(r,!1,!0),s=0|p.port||("https"===p.protocol?443:80),u=0|e.port||("https"===e.protocol?443:80),l={proto:p.protocol===e.protocol,hostname:p.hostname===e.hostname,port:s===u};return l.proto&&l.hostname&&(l.port||t)};

},{"url":89}],89:[function(require,module,exports){
"use strict";var regex=/^(?:(?:(?:([^:\/#\?]+:)?(?:(?:\/\/)((?:((?:[^:@\/#\?]+)(?:\:(?:[^:@\/#\?]+))?)@)?(([^:\/#\?\]\[]+|\[[^\/\]@#?]+\])(?:\:([0-9]+))?))?)?)?((?:\/?(?:[^\/\?#]+\/+)*)(?:[^\?#]*)))?(\?[^#]+)?)(#.*)?/;module.exports={regex:regex,parse:function(e){var o=regex.exec(e);return o?{protocol:(o[1]||"").toLowerCase()||void 0,hostname:(o[5]||"").toLowerCase()||void 0,port:o[6]||void 0}:{}}};

},{}],90:[function(require,module,exports){
(function (global){(function (){
"use strict";var required=require("requires-port"),qs=require("querystringify"),controlOrWhitespace=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,CRHTLF=/[\n\r\t]/g,slashes=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,port=/:\d+$/,protocolre=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,windowsDriveLetter=/^[a-zA-Z]:/;function trimLeft(e){return(e||"").toString().replace(controlOrWhitespace,"")}var rules=[["#","hash"],["?","query"],function(e,o){return isSpecial(o.protocol)?e.replace(/\\/g,"/"):e},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],ignore={hash:1,query:1};function lolcation(e){var o,t=("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{}).location||{},r={},s=typeof(e=e||t);if("blob:"===e.protocol)r=new Url(unescape(e.pathname),{});else if("string"===s)for(o in r=new Url(e,{}),ignore)delete r[o];else if("object"===s){for(o in e)o in ignore||(r[o]=e[o]);void 0===r.slashes&&(r.slashes=slashes.test(e.href))}return r}function isSpecial(e){return"file:"===e||"ftp:"===e||"http:"===e||"https:"===e||"ws:"===e||"wss:"===e}function extractProtocol(e,o){e=(e=trimLeft(e)).replace(CRHTLF,""),o=o||{};var t,r=protocolre.exec(e),s=r[1]?r[1].toLowerCase():"",a=!!r[2],n=!!r[3],l=0;return a?n?(t=r[2]+r[3]+r[4],l=r[2].length+r[3].length):(t=r[2]+r[4],l=r[2].length):n?(t=r[3]+r[4],l=r[3].length):t=r[4],"file:"===s?l>=2&&(t=t.slice(2)):isSpecial(s)?t=r[4]:s?a&&(t=t.slice(2)):l>=2&&isSpecial(o.protocol)&&(t=r[4]),{protocol:s,slashes:a||isSpecial(s),slashesCount:l,rest:t}}function resolve(e,o){if(""===e)return o;for(var t=(o||"/").split("/").slice(0,-1).concat(e.split("/")),r=t.length,s=t[r-1],a=!1,n=0;r--;)"."===t[r]?t.splice(r,1):".."===t[r]?(t.splice(r,1),n++):n&&(0===r&&(a=!0),t.splice(r,1),n--);return a&&t.unshift(""),"."!==s&&".."!==s||t.push(""),t.join("/")}function Url(e,o,t){if(e=(e=trimLeft(e)).replace(CRHTLF,""),!(this instanceof Url))return new Url(e,o,t);var r,s,a,n,l,i,p=rules.slice(),c=typeof o,h=this,u=0;for("object"!==c&&"string"!==c&&(t=o,o=null),t&&"function"!=typeof t&&(t=qs.parse),r=!(s=extractProtocol(e||"",o=lolcation(o))).protocol&&!s.slashes,h.slashes=s.slashes||r&&o.slashes,h.protocol=s.protocol||o.protocol||"",e=s.rest,("file:"===s.protocol&&(2!==s.slashesCount||windowsDriveLetter.test(e))||!s.slashes&&(s.protocol||s.slashesCount<2||!isSpecial(h.protocol)))&&(p[3]=[/(.*)/,"pathname"]);u<p.length;u++)"function"!=typeof(n=p[u])?(a=n[0],i=n[1],a!=a?h[i]=e:"string"==typeof a?~(l="@"===a?e.lastIndexOf(a):e.indexOf(a))&&("number"==typeof n[2]?(h[i]=e.slice(0,l),e=e.slice(l+n[2])):(h[i]=e.slice(l),e=e.slice(0,l))):(l=a.exec(e))&&(h[i]=l[1],e=e.slice(0,l.index)),h[i]=h[i]||r&&n[3]&&o[i]||"",n[4]&&(h[i]=h[i].toLowerCase())):e=n(e,h);t&&(h.query=t(h.query)),r&&o.slashes&&"/"!==h.pathname.charAt(0)&&(""!==h.pathname||""!==o.pathname)&&(h.pathname=resolve(h.pathname,o.pathname)),"/"!==h.pathname.charAt(0)&&isSpecial(h.protocol)&&(h.pathname="/"+h.pathname),required(h.port,h.protocol)||(h.host=h.hostname,h.port=""),h.username=h.password="",h.auth&&(~(l=h.auth.indexOf(":"))?(h.username=h.auth.slice(0,l),h.username=encodeURIComponent(decodeURIComponent(h.username)),h.password=h.auth.slice(l+1),h.password=encodeURIComponent(decodeURIComponent(h.password))):h.username=encodeURIComponent(decodeURIComponent(h.auth)),h.auth=h.password?h.username+":"+h.password:h.username),h.origin="file:"!==h.protocol&&isSpecial(h.protocol)&&h.host?h.protocol+"//"+h.host:"null",h.href=h.toString()}function set(e,o,t){var r=this;switch(e){case"query":"string"==typeof o&&o.length&&(o=(t||qs.parse)(o)),r[e]=o;break;case"port":r[e]=o,required(o,r.protocol)?o&&(r.host=r.hostname+":"+o):(r.host=r.hostname,r[e]="");break;case"hostname":r[e]=o,r.port&&(o+=":"+r.port),r.host=o;break;case"host":r[e]=o,port.test(o)?(o=o.split(":"),r.port=o.pop(),r.hostname=o.join(":")):(r.hostname=o,r.port="");break;case"protocol":r.protocol=o.toLowerCase(),r.slashes=!t;break;case"pathname":case"hash":if(o){var s="pathname"===e?"/":"#";r[e]=o.charAt(0)!==s?s+o:o}else r[e]=o;break;case"username":case"password":r[e]=encodeURIComponent(o);break;case"auth":var a=o.indexOf(":");~a?(r.username=o.slice(0,a),r.username=encodeURIComponent(decodeURIComponent(r.username)),r.password=o.slice(a+1),r.password=encodeURIComponent(decodeURIComponent(r.password))):r.username=encodeURIComponent(decodeURIComponent(o))}for(var n=0;n<rules.length;n++){var l=rules[n];l[4]&&(r[l[1]]=r[l[1]].toLowerCase())}return r.auth=r.password?r.username+":"+r.password:r.username,r.origin="file:"!==r.protocol&&isSpecial(r.protocol)&&r.host?r.protocol+"//"+r.host:"null",r.href=r.toString(),r}function toString(e){e&&"function"==typeof e||(e=qs.stringify);var o,t=this,r=t.host,s=t.protocol;s&&":"!==s.charAt(s.length-1)&&(s+=":");var a=s+(t.protocol&&t.slashes||isSpecial(t.protocol)?"//":"");return t.username?(a+=t.username,t.password&&(a+=":"+t.password),a+="@"):t.password?(a+=":"+t.password,a+="@"):"file:"!==t.protocol&&isSpecial(t.protocol)&&!r&&"/"!==t.pathname&&(a+="@"),(":"===r[r.length-1]||port.test(t.hostname)&&!t.port)&&(r+=":"),a+=r+t.pathname,(o="object"==typeof t.query?e(t.query):t.query)&&(a+="?"!==o.charAt(0)?"?"+o:o),t.hash&&(a+=t.hash),a}Url.prototype={set:set,toString:toString},Url.extractProtocol=extractProtocol,Url.location=lolcation,Url.trimLeft=trimLeft,Url.qs=qs,module.exports=Url;

}).call(this)}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{"querystringify":68,"requires-port":69}]},{},[17])(17)
});
